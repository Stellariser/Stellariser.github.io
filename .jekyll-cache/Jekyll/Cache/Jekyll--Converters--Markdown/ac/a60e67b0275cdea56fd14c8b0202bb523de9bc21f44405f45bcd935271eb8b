I"§]<h1 id="åˆ·é¢˜ç¬”è®°">åˆ·é¢˜ç¬”è®°</h1>

<h2 id="1-ç›¸å‘åŒæŒ‡é’ˆ">1 ç›¸å‘åŒæŒ‡é’ˆ</h2>

<h3 id="ä¸¤æ•°ä¹‹å’Œ">ä¸¤æ•°ä¹‹å’Œ</h3>

<p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>1</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code class="language-plaintext highlighter-rouge">numbers</code> ï¼Œè¯¥æ•°ç»„å·²æŒ‰ <strong>éé€’å‡é¡ºåºæ’åˆ—</strong> ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° <code class="language-plaintext highlighter-rouge">target</code> çš„ä¸¤ä¸ªæ•°ã€‚å¦‚æœè®¾è¿™ä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯ <code class="language-plaintext highlighter-rouge">numbers[index1]</code> å’Œ <code class="language-plaintext highlighter-rouge">numbers[index2]</code> ï¼Œåˆ™ <code class="language-plaintext highlighter-rouge">1 &lt;= index1 &lt; index2 &lt;= numbers.length</code> ã€‚</p>

<p>ä»¥é•¿åº¦ä¸º 2 çš„æ•´æ•°æ•°ç»„ <code class="language-plaintext highlighter-rouge">[index1, index2]</code> çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡ <code class="language-plaintext highlighter-rouge">index1</code> å’Œ <code class="language-plaintext highlighter-rouge">index2</code>ã€‚</p>

<p>ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥ <strong>åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆ</strong> ï¼Œè€Œä¸”ä½  <strong>ä¸å¯ä»¥</strong> é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚</p>

<p>ä½ æ‰€è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»åªä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´ã€‚</p>

<p>ç›¸å‘åŒæŒ‡é’ˆæ¨¡æ¿é¢˜ç›®</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">start</span><span class="p">,</span><span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">while</span> <span class="n">start</span><span class="o">&lt;</span><span class="n">end</span><span class="p">:</span>
            <span class="n">htsum</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">start</span><span class="p">]</span><span class="o">+</span><span class="n">numbers</span><span class="p">[</span><span class="n">end</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">htsum</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">res</span>
            <span class="k">if</span> <span class="n">htsum</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">start</span><span class="o">+=</span><span class="mi">1</span>
            <span class="k">if</span> <span class="n">htsum</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">end</span><span class="o">-=</span><span class="mi">1</span>
        <span class="k">return</span> <span class="p">[]</span>
</code></pre></div></div>

<p>æ£€æŸ¥åŒæŒ‡é’ˆçš„å¤´å’Œå°¾ï¼Œå¦‚æœå’Œå¤§äºtargetï¼Œæ—¢ç„¶æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆæœ«å°¾è¿™ä¸ªåŠ ä»»ä½•ä¸€ä¸ªå‰é¢çš„éƒ½å¤§äºï¼Œé‚£ä¹ˆå°±å°¾éƒ¨å‡ä¸€ã€‚å¦‚æœå’Œå°äºtargetï¼ŒåŒç†ï¼ŒåŠ å°¾éƒ¨å¾€å‰ä»»ä½•ä¸€ä¸ªå°±ä¼šå°äºï¼Œé‚£ä¹ˆå°±å¤´éƒ¨æŒ‡é’ˆåŠ ä¸€ã€‚</p>

<h3 id="ä¸‰æ•°ä¹‹å’Œ">ä¸‰æ•°ä¹‹å’Œ</h3>

<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code class="language-plaintext highlighter-rouge">nums</code> ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ <code class="language-plaintext highlighter-rouge">[nums[i], nums[j], nums[k]]</code> æ»¡è¶³ <code class="language-plaintext highlighter-rouge">i != j</code>ã€<code class="language-plaintext highlighter-rouge">i != k</code> ä¸” <code class="language-plaintext highlighter-rouge">j != k</code> ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ <code class="language-plaintext highlighter-rouge">nums[i] + nums[j] + nums[k] == 0</code> ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º <code class="language-plaintext highlighter-rouge">0</code> ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>

<p><strong>æ³¨æ„ï¼š</strong>ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>

<p>è¿™é“é¢˜å¯ä»¥æŠŠnums[i] + nums[j] + nums[k] == 0 æ”¹ä¸º nums[j] + nums[k] == -nums[i]</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">threeSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">nums</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">res</span><span class="o">=</span> <span class="p">[]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">):</span>      <span class="c1">#æšä¸¾æ‰€æœ‰å¯èƒ½çš„i
</span>            <span class="n">ressub</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span><span class="o">==</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">continue</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>     <span class="c1">#æ—¢ç„¶åŠ èµ·æ¥æ˜¯0ï¼Œé‚£ä¹ˆå¾€åæ‰¾å°±è¡Œï¼Œæ¯•ç«Ÿæ˜¯æœ‰åºçš„
</span>            <span class="n">k</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span>
            <span class="k">while</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">k</span><span class="p">:</span>
                <span class="n">sm</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">sm</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">j</span><span class="o">+=</span><span class="mi">1</span>
                <span class="k">if</span> <span class="n">sm</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">k</span><span class="o">-=</span><span class="mi">1</span>
                <span class="k">if</span> <span class="n">sm</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">],</span><span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]])</span>
                    <span class="n">j</span><span class="o">+=</span><span class="mi">1</span>
                    <span class="k">while</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">k</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>  <span class="c1">#å»é™¤é‡å¤çš„ï¼Œå¾ˆå…³é”®ï¼Œé¦–å…ˆå¤šä¸ªç­”æ¡ˆï¼Œå› æ­¤éœ€è¦æŠŠjå’Œkè°ƒæ•´ï¼Œç»§ç»­éå†
</span>                        <span class="n">j</span><span class="o">+=</span><span class="mi">1</span>
                    <span class="n">k</span><span class="o">-=</span><span class="mi">1</span>
                    <span class="k">while</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">k</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">nums</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>  <span class="c1">#å¦‚æœé‡åˆ°ä¸€æ ·çš„å€¼ï¼Œé‚£å°±è·³è¿‡
</span>                        <span class="n">k</span><span class="o">-=</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p>åº•ä¸‹éƒ¨åˆ†ä»£ç æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸€å¼€å§‹iç”¨ä¸€ä¸ªforå¾ªç¯æšä¸¾å¯èƒ½çš„i</p>

<h3 id="ç››æ°´æœ€å¤šçš„å®¹å™¨">ç››æ°´æœ€å¤šçš„å®¹å™¨</h3>

<p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <code class="language-plaintext highlighter-rouge">n</code> çš„æ•´æ•°æ•°ç»„ <code class="language-plaintext highlighter-rouge">height</code> ã€‚æœ‰ <code class="language-plaintext highlighter-rouge">n</code> æ¡å‚çº¿ï¼Œç¬¬ <code class="language-plaintext highlighter-rouge">i</code> æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ <code class="language-plaintext highlighter-rouge">(i, 0)</code> å’Œ <code class="language-plaintext highlighter-rouge">(i, height[i])</code> ã€‚</p>

<p>æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ <code class="language-plaintext highlighter-rouge">x</code> è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</p>

<p>è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚</p>

<p><strong>è¯´æ˜ï¼š</strong>ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240802162006115.png" alt="image-20240802162006115" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxArea</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left</span><span class="p">,</span><span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span>
        <span class="k">while</span> <span class="n">left</span><span class="o">&lt;</span><span class="n">right</span><span class="p">:</span>
            <span class="n">leftbar</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>
            <span class="n">rightbar</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="n">right</span><span class="p">]</span>
            <span class="n">liq</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">leftbar</span><span class="p">,</span><span class="n">rightbar</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">liq</span><span class="o">&gt;</span><span class="n">res</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">liq</span>
            <span class="k">if</span> <span class="n">leftbar</span><span class="o">&lt;=</span><span class="n">rightbar</span><span class="p">:</span>
                <span class="n">left</span><span class="o">+=</span><span class="mi">1</span>
            <span class="k">if</span> <span class="n">leftbar</span><span class="o">&gt;</span><span class="n">rightbar</span><span class="p">:</span>
                <span class="n">right</span><span class="o">-=</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">res</span>

</code></pre></div></div>

<p>åŒæ ·çš„ï¼Œç›¸å‘åŒæŒ‡é’ˆï¼Œæ€»æ˜¯ç§»åŠ¨è¾ƒçŸ­çš„æ‹¿ä¸€æ ¹çš„æŒ‡é’ˆï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬é€‰æ‹©äº†ç›®å‰è¾ƒçŸ­çš„é‚£ä¸€æ ¹ï¼Œæˆ‘ä»¬ç§»åŠ¨å·¦ä¾§çš„æŒ‡é’ˆï¼Œå¦‚æœå·¦ä¾§æ›´çŸ­ï¼Œé‚£ä¹ˆå·¦ä¾§çš„ä¸ä½†è§ç¬‘äº†åº•ï¼Œè¿˜å‡å°äº†é«˜ï¼Œå¾ˆè ¢ã€‚å¦‚æœå·¦ä¾§çš„æ›´é•¿äº†ï¼Œé‚£ä¹ˆæœ‰æ•ˆçš„é«˜åº¦è¿˜æ˜¯å³ä¾§å›ºå®šçš„è¿™ä¸€æ ¹ï¼Œå¹¶ä¸”åº•è¿˜å˜çŸ­äº†ï¼Œä¹Ÿæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤éœ€è¦ç§»åŠ¨è¾ƒçŸ­çš„é‚£ä¸€æ ¹ã€‚</p>

<h3 id="æ¥é›¨æ°´">æ¥é›¨æ°´</h3>

<p>ç»™å®š <code class="language-plaintext highlighter-rouge">n</code> ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º <code class="language-plaintext highlighter-rouge">1</code> çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240802172559556.png" alt="image-20240802172559556" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">trap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
        <span class="n">postfix</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
        <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)):</span>         <span class="c1">#å‰ç¼€æœ€é«˜
</span>            <span class="k">if</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">currentheiget</span><span class="p">:</span>
                <span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
        <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>      <span class="c1">#åç¼€æœ€é«˜
</span>            <span class="k">if</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">currentheiget</span><span class="p">:</span>
                <span class="n">postfix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">postfix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)):</span>            <span class="c1">#è®¡ç®—æ¯ä¸€ä¸ªå°æ¡¶ï¼Œå°æ¡¶çš„æœ‰æ•ˆé«˜åº¦æ˜¯ä¸¤ä¸ªæ¿å­ä¸­è¾ƒä½çš„æœ‰æ•ˆé«˜åº¦å‡å»æœ¬èº«çš„é«˜åº¦ï¼Œä¹Ÿå°±æ˜¯åº•çš„é«˜åº¦
</span>            <span class="n">realh</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">postfix</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">-</span><span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">res</span><span class="o">+=</span><span class="n">realh</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p>æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆæ€è€ƒï¼Œå½“å‰è¿™ä¸ªæ ¼å­çœ‹ä½œä¸€ä¸ªåº•è¾¹é•¿ä¸º1çš„æ¡¶ï¼Œä»–çš„å·¦ä¾§æ¿å’Œå³ä¾§æ¿ä¸ºï¼Œåˆ°ç›®å‰ä¸ºæ­¢å·¦ä¾§çš„æœ€é«˜é«˜åº¦å’Œå³ä¾§çš„æœ€é«˜é«˜åº¦ï¼Œå› æ­¤ä½¿ç”¨ä¸¤ä¸ªéå†è®¡ç®—å‡ºå‰ç¼€æœ€é«˜å’Œåç¼€æœ€é«˜ï¼Œç„¶åä¸€ä¸ªæ ¼å­ä¸€ä¸ªæ ¼å­çš„è®¡ç®—ã€‚</p>

<h2 id="2-æ»‘åŠ¨çª—å£">2 æ»‘åŠ¨çª—å£</h2>

<h3 id="æœ€é•¿ä¸é‡å¤å­åºåˆ—">æœ€é•¿ä¸é‡å¤å­åºåˆ—</h3>

<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code class="language-plaintext highlighter-rouge">s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿ å­ä¸²çš„é•¿åº¦ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lengthOfLongestSubstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="ow">in</span> <span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">:</span><span class="n">right</span><span class="p">]:</span>
                <span class="n">left</span><span class="o">+=</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">right</span> <span class="o">+=</span><span class="mi">1</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p>åªèƒ½èƒŒäº†</p>

<p>å½“å³ä¾§çš„å·²ç»å‡ºç°åœ¨ç»“æœä¸­çš„æ—¶å€™å°±ä»å·¦è¾¹å¼€å§‹ç¼©å°ï¼Œåä¹‹å°±ç»§ç»­ä¼¸å±•å³ä¾§çš„ã€‚</p>

<h3 id="æœ€çŸ­ç›®æ ‡å­åºåˆ—">æœ€çŸ­ç›®æ ‡å­åºåˆ—</h3>

<p>ç»™å®šä¸€ä¸ªå«æœ‰ <code class="language-plaintext highlighter-rouge">n</code> ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° <code class="language-plaintext highlighter-rouge">target</code> <strong>ã€‚</strong>æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶æ€»å’Œå¤§äºç­‰äº <code class="language-plaintext highlighter-rouge">target</code> çš„é•¿åº¦æœ€å°çš„ <strong>å­æ•°ç»„</strong><code class="language-plaintext highlighter-rouge">[numsl, numsl+1, ..., numsr-1, numsr]</code> ï¼Œå¹¶è¿”å›å…¶é•¿åº¦<strong>ã€‚</strong>å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› <code class="language-plaintext highlighter-rouge">0</code> ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minSubArrayLen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">nums</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">left</span> <span class="o">=</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span>
        <span class="n">csum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">right</span> <span class="o">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="n">csum</span><span class="o">+=</span><span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span>
            <span class="k">while</span> <span class="n">csum</span><span class="o">&gt;=</span><span class="n">target</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">csum</span><span class="o">-=</span><span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>
                <span class="n">left</span><span class="o">+=</span><span class="mi">1</span>
                
            <span class="n">right</span><span class="o">+=</span><span class="mi">1</span>
        
        <span class="k">if</span> <span class="n">res</span> <span class="o">==</span><span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">):</span> 
            <span class="k">return</span> <span class="mi">0</span> 
        <span class="k">else</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<h3><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240802193031463.png" alt="image-20240802193031463" /></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numSubarrayProductLessThanK</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left</span><span class="p">,</span><span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
        <span class="n">currentmul</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">right</span><span class="o">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="n">currentmul</span><span class="o">*=</span><span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]</span>
            <span class="n">right</span><span class="o">+=</span><span class="mi">1</span>
            <span class="k">while</span> <span class="n">currentmul</span> <span class="o">&gt;=</span><span class="n">k</span> <span class="ow">and</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>
                <span class="n">currentmul</span><span class="o">/=</span><span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>
                <span class="n">left</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">res</span> <span class="o">+=</span><span class="n">right</span><span class="o">-</span><span class="n">left</span>        <span class="c1">#è¿™æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºæ˜¯è¦è®¡ç®—ä½ æ‰€æœ‰å­—ä¸²çš„ä¸ªæ•°ï¼Œå¦‚æœä¸€ä¸ªä¸²æ»¡è¶³ï¼Œé‚£ä¹ˆå…¶ä¸­çš„right-leftä¸ªå°±éƒ½æ»¡è¶³
</span>        <span class="k">return</span> <span class="n">res</span>

       


</code></pre></div></div>

<p>å·¦å³ç¼©æ”¾</p>

<h2 id="3-äºŒåˆ†æŸ¥æ‰¾">3 äºŒåˆ†æŸ¥æ‰¾</h2>

<p>è¿™æ˜¯ä¸€ä¸ªè¾¹ç•Œæ¡ä»¶éå¸¸ä¸¥æ ¼çš„ä¸“é¢˜ï¼Œæœ‰å¾ˆå¤šç§ä¸åŒçš„å†™æ³•ï¼Œæ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„</p>

<h4 id="ä¸‰ç§å†™æ³•">ä¸‰ç§å†™æ³•</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># é—­åŒºé—´å†™æ³•
</span><span class="k">def</span> <span class="nf">lower_bound</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># é—­åŒºé—´ [left, right]
</span>    <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>  <span class="c1"># åŒºé—´ä¸ä¸ºç©º
</span>        <span class="c1"># å¾ªç¯ä¸å˜é‡ï¼š
</span>        <span class="c1"># nums[left-1] &lt; target
</span>        <span class="c1"># nums[right+1] &gt;= target
</span>        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># èŒƒå›´ç¼©å°åˆ° [mid+1, right]
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># èŒƒå›´ç¼©å°åˆ° [left, mid-1]
</span>    <span class="k">return</span> <span class="n">left</span>

<span class="c1"># å·¦é—­å³å¼€åŒºé—´å†™æ³•
</span><span class="k">def</span> <span class="nf">lower_bound2</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">right</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>  <span class="c1"># å·¦é—­å³å¼€åŒºé—´ [left, right)
</span>    <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>  <span class="c1"># åŒºé—´ä¸ä¸ºç©º
</span>        <span class="c1"># å¾ªç¯ä¸å˜é‡ï¼š
</span>        <span class="c1"># nums[left-1] &lt; target
</span>        <span class="c1"># nums[right] &gt;= target
</span>        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># èŒƒå›´ç¼©å°åˆ° [mid+1, right)
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span>  <span class="c1"># èŒƒå›´ç¼©å°åˆ° [left, mid)
</span>    <span class="k">return</span> <span class="n">left</span>  <span class="c1"># è¿”å› left è¿˜æ˜¯ right éƒ½è¡Œï¼Œå› ä¸ºå¾ªç¯ç»“æŸå left == right
</span>
<span class="c1"># å¼€åŒºé—´å†™æ³•
</span><span class="k">def</span> <span class="nf">lower_bound3</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>  <span class="c1"># å¼€åŒºé—´ (left, right)
</span>    <span class="k">while</span> <span class="n">left</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>  <span class="c1"># åŒºé—´ä¸ä¸ºç©º
</span>        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="c1"># å¾ªç¯ä¸å˜é‡ï¼š
</span>        <span class="c1"># nums[left] &lt; target
</span>        <span class="c1"># nums[right] &gt;= target
</span>        <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span>  <span class="c1"># èŒƒå›´ç¼©å°åˆ° (mid, right)
</span>        <span class="k">else</span><span class="p">:</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span>  <span class="c1"># èŒƒå›´ç¼©å°åˆ° (left, mid)
</span>    <span class="k">return</span> <span class="n">right</span>

</code></pre></div></div>

<p>å¯ä»¥ä»”ç»†æŸ¥çœ‹å®ƒä»¬ä¹‹é—´çš„ä¸åŒã€‚</p>

<h4 id="åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®">åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240803140727687.png" alt="image-20240803140727687" /></p>

<p>è§£å†³è¿™ä¸ªé—®é¢˜</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">searchRange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">nums</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        
        <span class="k">def</span> <span class="nf">bis</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="n">target</span><span class="p">):</span>
            <span class="n">left</span><span class="p">,</span><span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
            <span class="k">while</span> <span class="n">left</span><span class="o">&lt;=</span><span class="n">right</span><span class="p">:</span>
                <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span><span class="o">+</span><span class="n">right</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span><span class="o">&lt;</span><span class="n">target</span><span class="p">:</span>
                    <span class="n">left</span> <span class="o">=</span> <span class="n">middle</span><span class="o">+</span><span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">right</span> <span class="o">=</span> <span class="n">middle</span><span class="o">-</span><span class="mi">1</span>
            <span class="k">return</span> <span class="n">left</span>
        
        <span class="n">start</span> <span class="o">=</span> <span class="n">bis</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="n">target</span><span class="p">)</span>     <span class="c1">#è¿™ä¸ªåŠæ³•ä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª
</span>        <span class="k">if</span> <span class="n">start</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="ow">or</span> <span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">!=</span> <span class="n">target</span><span class="p">:</span> <span class="c1">#è¿™ä¸¤ä¸ªåˆ¤æ–­çš„é¡ºåºä¸èƒ½è°ƒæ¢ï¼Œåé¢çš„æ”¾åˆ°å‰é¢å°±ä¼šæ•°ç»„è¶Šç•Œ
</span>            <span class="k">return</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">bis</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="n">target</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>        <span class="c1">#æ‰¾åˆ°æ¯”ä»–å¤§1çš„ä½ç½®-1å°±å¯ä»¥æ‰¾åˆ°æœ«å°¾
</span>        <span class="k">return</span> <span class="p">[</span><span class="n">start</span><span class="p">,</span><span class="n">end</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼">å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240803153927412.png" alt="image-20240803153927412" /></p>

<p>è¿™é‡Œæˆ‘è¿˜æ˜¯åšæŒä½¿ç”¨é—­åŒºé—´ï¼Œç”¨ä¸­é—´å€¼å’Œæ•°ç»„æœ€å·¦ä¾§çš„å€¼è¿›è¡Œæ¯”è¾ƒ</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findMin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">right</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
        <span class="k">while</span> <span class="n">left</span><span class="o">&lt;=</span><span class="n">right</span><span class="p">:</span>
            <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span><span class="o">+</span><span class="n">right</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
            <span class="n">middlenumber</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">middlenumber</span><span class="o">&gt;</span><span class="n">nums</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">middle</span><span class="o">+</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">right</span> <span class="o">=</span><span class="n">middle</span><span class="o">-</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>
            
        
</code></pre></div></div>

<p>éå¸¸å¸…çš„é¢˜</p>

<h4 id="æœç´¢æ—‹è½¬æ’åºæ•°ç»„">æœç´¢æ—‹è½¬æ’åºæ•°ç»„</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240804152924632.png" alt="image-20240804152924632" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">leftside</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1">#æœ€åä¸€ä¸ª
</span>            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="n">end</span><span class="p">:</span>   <span class="c1">#ä¸­ç‚¹åœ¨å·¦è¾¹ä¸€æ®µ,ä¹Ÿå°±æ˜¯æ’åºå¥½çš„ä¸€æ®µ
</span>                <span class="k">return</span> <span class="n">target</span><span class="o">&gt;</span><span class="n">end</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">target</span>   <span class="c1">#targetå’Œä»–åœ¨åŒä¸€æ®µ
</span>            <span class="k">else</span><span class="p">:</span>       <span class="c1">#ä¸­ç‚¹åœ¨å³è¾¹ä¸€æ®µ
</span>                <span class="k">return</span> <span class="n">target</span><span class="o">&gt;</span><span class="n">end</span> <span class="ow">or</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">target</span>   <span class="c1">#åœ¨å·¦è¾¹ä¸€æ®µé«˜çš„éƒ¨åˆ†   åœ¨å·¦è¾¹ä¸€æ®µä½çš„éƒ¨åˆ†
</span>
        <span class="n">left</span><span class="p">,</span><span class="n">right</span> <span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
        <span class="k">while</span> <span class="n">left</span><span class="o">&lt;=</span><span class="n">right</span><span class="p">:</span>
            <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span><span class="o">+</span><span class="n">right</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span>
            <span class="k">if</span> <span class="n">leftside</span><span class="p">(</span><span class="n">middle</span><span class="p">):</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">middle</span><span class="o">-</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">middle</span><span class="o">+</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="ow">or</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">!=</span> <span class="n">target</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">left</span>
</code></pre></div></div>

<p>åªéœ€è¦é¢å¤–è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œåˆ¤æ–­å› è¯¥èˆå¼ƒå“ªä¸€éƒ¨åˆ†çš„æ•°ç»„å°±å¯ä»¥äº†</p>

<h2 id="4é“¾è¡¨">4.é“¾è¡¨</h2>

<h3 id="åè½¬é“¾è¡¨">åè½¬é“¾è¡¨</h3>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240804161228682.png" alt="image-20240804161228682" /></p>

<p>è§£ç­”</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">reverseList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">head</span><span class="p">:</span>
            <span class="k">return</span>  <span class="bp">None</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="n">nextcure</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>   <span class="c1">#å…ˆè®°å½•åä¸€ä¸ªèŠ‚ç‚¹
</span>            <span class="n">cur</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">prev</span>     <span class="c1">#åè½¬
</span>            <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span>    <span class="c1">#æ›´æ–°å‰ä¸€ä¸ª
</span>            <span class="n">cur</span> <span class="o">=</span> <span class="n">nextcure</span>     <span class="c1">#æ›´æ–°å½“å‰
</span>        <span class="k">return</span> <span class="n">prev</span>
</code></pre></div></div>

<p>ä¸€èˆ¬æ¥è¯´é“¾è¡¨é¢˜éƒ½ä¼šæœ‰ä¸€ä¸ªå½“å‰èŠ‚ç‚¹ï¼Œå’Œå‰ä¸€ä¸ªç»“ç‚¹ï¼Œç„¶åä»¥å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºè¿›è¡Œåˆ¤æ–­</p>

<p>è¿™é‡Œè¦æ³¨æ„è®°å½•å½“å‰èŠ‚ç‚¹çš„åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºåè½¬ååŸæ¥çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ— æ³•é€šè¿‡å½“å‰èŠ‚ç‚¹çš„nextæ¥è·å–äº†</p>

<h4 id="åè½¬é“¾è¡¨2">åè½¬é“¾è¡¨2</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240804192500031.png" alt="image-20240804192500031" /></p>

<p>éå¸¸æ¶å¿ƒäººçš„ä¸€é“é¢˜</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">reverseBetween</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">],</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">right</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">p0</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">left</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>  <span class="c1">#é¦–å…ˆæ‰¾åˆ°å¤´èŠ‚ç‚¹
</span>            <span class="n">p0</span> <span class="o">=</span> <span class="n">p0</span><span class="p">.</span><span class="nb">next</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">p0</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>  <span class="c1">#è¿™è¾¹å¼€å§‹åè½¬ï¼Œè¦æ³¨æ„ï¼Œè¿™æ¬¡curæ˜¯ç¬¬ä¸€ä¸ªï¼Œæ‰€ä»¥prevæ˜¯None
</span>            <span class="n">nexto</span> <span class="o">=</span><span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">cur</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">prev</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">nexto</span>
        <span class="n">p0</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span><span class="o">=</span> <span class="n">cur</span>           <span class="c1">#è¿™ä¸ªæ—¶å€™p0è¿˜æ˜¯æŒ‡å‘çš„åä¸€ä¸ªï¼Œæ‰€ä»¥nextå°±å¯ä»¥æŒ‡å‘è¢«åè½¬åºåˆ—çš„æœ€åä¸€ä¸ªï¼Œç„¶åæŠŠä»–æŒ‡å‘ä¸éœ€è¦åè½¬çš„åä¸€éƒ¨åˆ†
</span>        <span class="n">p0</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">prev</span>             <span class="c1">#æŒ‡å‘è¢«åè½¬åºåˆ—çš„å¤´éƒ¨
</span>        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>

</code></pre></div></div>

<h4 id="kä¸ªä¸€ç»„åè½¬é“¾è¡¨">kä¸ªä¸€ç»„åè½¬é“¾è¡¨</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240805161448549.png" alt="image-20240805161448549" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">reverseKGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">counthead</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">counthead</span><span class="p">:</span>
            <span class="n">counthead</span> <span class="o">=</span> <span class="n">counthead</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">p0</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">while</span> <span class="n">count</span><span class="o">&gt;=</span><span class="n">k</span><span class="p">:</span>
            <span class="n">count</span><span class="o">-=</span><span class="n">k</span> 
            <span class="n">prev</span> <span class="o">=</span><span class="bp">None</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">p0</span><span class="p">.</span><span class="nb">next</span>      
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
                <span class="n">nextone</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">cur</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">prev</span>
                <span class="n">prev</span> <span class="o">=</span> <span class="n">cur</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">nextone</span>
            <span class="n">nextp0</span> <span class="o">=</span> <span class="n">p0</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">p0</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">cur</span>
            <span class="n">p0</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">prev</span>
            <span class="n">p0</span> <span class="o">=</span> <span class="n">nextp0</span>    
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>    
</code></pre></div></div>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240805162118986.png" alt="image-20240805162118986" /></p>

<p>åšè¿™ç§é¢˜ä¸€å®šè¦å®šä½p0ï¼Œcurå’Œprev</p>

<h3 id="é“¾è¡¨ä¸­çš„å¿«æ…¢æŒ‡é’ˆ">é“¾è¡¨ä¸­çš„å¿«æ…¢æŒ‡é’ˆ</h3>

<h4 id="é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹">é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240805163316874.png" alt="image-20240805163316874" /></p>

<p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¯æ¬¡èµ°ä¸¤æ­¥çš„å’Œä¸€ä¸ªæ¯æ¬¡èµ°ä¸€æ­¥çš„æŒ‡é’ˆï¼Œå¿«çš„åˆ°äº†ï¼Œæ…¢çš„ä¹Ÿå°±æ­£å¥½åˆ°äº†ä¸€åŠï¼Œä½†æ˜¯è¾¹ç¼˜æ¡ä»¶è¦å¤„ç†å¥½</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">middleNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">slowp</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">fastp</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">fastp</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">fastp</span><span class="p">.</span><span class="nb">next</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">fastp</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">slowp</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">slowp</span> <span class="o">=</span><span class="n">slowp</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">fastp</span><span class="o">=</span> <span class="n">fastp</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">return</span> <span class="n">slowp</span>
</code></pre></div></div>

<h4 id="åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯">åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240805172056758.png" alt="image-20240805172056758" /></p>

<p>ç”¨å­—å…¸è®°å½•æ˜¯ä¸€ç§åŠæ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, x):
#         self.val = x
#         self.next = None
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">hasCycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cur</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">:</span>
                <span class="n">dic</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>         
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>

</code></pre></div></div>

<p>è¿˜æœ‰ä¸€ç§å°±æ˜¯ä¹Ÿç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå› ä¸ºå¦‚æœæœ‰ç¯ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆä¸€å®šä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆ</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, x):
#         self.val = x
#         self.next = None
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">hasCycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">fast</span> <span class="ow">and</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>
            <span class="k">if</span> <span class="n">fast</span> <span class="o">==</span> <span class="n">slow</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>

</code></pre></div></div>

<h4 id="ç¯å½¢é“¾è¡¨2-æ‰¾åˆ°ç¯å‡ºç°çš„ç‚¹">ç¯å½¢é“¾è¡¨2 æ‰¾åˆ°ç¯å‡ºç°çš„ç‚¹</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240805174125435.png" alt="image-20240805174125435" /></p>

<p>å“ˆå¸Œè¡¨</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, x):
#         self.val = x
#         self.next = None
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">detectCycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
            <span class="k">if</span> <span class="n">cur</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">:</span>
                <span class="n">dic</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cur</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">return</span> <span class="bp">None</span>
</code></pre></div></div>

<h3 id="é“¾è¡¨ä¸­çš„å¿«æ…¢æŒ‡é’ˆ-1">é“¾è¡¨ä¸­çš„å¿«æ…¢æŒ‡é’ˆ</h3>

<h4 id="åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹">åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806142011301.png" alt="image-20240806142011301" /></p>

<p>ä¸€èˆ¬æ¥è¯´ï¼Œå½“æœ‰å¯èƒ½ä¼šéœ€è¦åˆ é™¤å¤´èŠ‚ç‚¹çš„æ—¶å€™ï¼Œä½¿ç”¨dummyèŠ‚ç‚¹</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">removeNthFromEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">fast</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="n">slow</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>    <span class="c1">#å…ˆèµ°
</span>            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">while</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span>        <span class="c1">#å¿«æŒ‡é’ˆåˆ°äº†ï¼Œæˆ‘å°±åˆ°äº†
</span>        <span class="n">slow</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">slow</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>  <span class="c1">#åˆ é™¤
</span>        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>
</code></pre></div></div>

<p>å¿«æŒ‡é’ˆå…ˆç§»åŠ¨næ­¥ï¼Œç„¶åæ…¢æŒ‡é’ˆå¼€å§‹è·‘ï¼Œå¿«æŒ‡é’ˆåˆ°å¤´äº†ï¼Œæ…¢æŒ‡é’ˆä¹Ÿåˆ°äº†è¦åˆ é™¤çš„èŠ‚ç‚¹ä¹‹å‰äº†ã€‚</p>

<h4 id="åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ">åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ </h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806143713938.png" alt="image-20240806143713938" /></p>

<p>å¦‚æœæ˜¯æ’åºå¥½çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">head</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="n">vic</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
            <span class="k">if</span> <span class="n">vic</span><span class="p">.</span><span class="n">val</span>  <span class="o">==</span> <span class="n">cur</span><span class="p">.</span><span class="n">val</span><span class="p">:</span>
                <span class="n">cur</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">vic</span><span class="p">.</span><span class="nb">next</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">return</span> <span class="n">head</span>

        <span class="c1"># if not head:
</span>        <span class="c1">#     return None
</span>        <span class="c1"># dummy = ListNode()
</span>        <span class="c1"># dummy.next = head
</span>        <span class="c1"># fast = dummy
</span>        <span class="c1"># middle = dummy
</span>        <span class="c1"># tail = dummy
</span>        <span class="c1"># fast = fast.next.next
</span>        <span class="c1"># middle = middle.next
</span>        <span class="c1"># while fast:
</span>        <span class="c1">#     if fast.val == middle.val:
</span>        <span class="c1">#         print("youle")
</span>        <span class="c1">#         tail.next = fast
</span>        <span class="c1">#         middle = fast
</span>        <span class="c1">#         fast = fast.next
</span>        <span class="c1">#     else:    
</span>        <span class="c1">#         fast = fast.next
</span>        <span class="c1">#         middle = middle.next
</span>        <span class="c1">#         tail = tail.next
</span>        <span class="c1"># return dummy.next
</span>        

</code></pre></div></div>

<h4 id="åˆ é™¤åˆ—è¡¨ä¸­é‡è¯»çš„å…ƒç´ è¿å¸¦ä»–æœ¬èº«">åˆ é™¤åˆ—è¡¨ä¸­é‡è¯»çš„å…ƒç´ ,è¿å¸¦ä»–æœ¬èº«</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806160435131.png" alt="image-20240806160435131" /></p>

<p>è¿™ä¸ªå¯ä»¥å…ˆç”¨å“ˆå¸Œè¡¨åšï¼Œåšå‡ºæ¥æœ€é‡è¦</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">deleteDuplicates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ListNode</span><span class="p">]:</span>
        <span class="n">dic</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">()</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cur</span><span class="p">.</span><span class="n">val</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">:</span>
                <span class="n">dic</span><span class="p">[</span><span class="n">cur</span><span class="p">.</span><span class="n">val</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dic</span><span class="p">[</span><span class="n">cur</span><span class="p">.</span><span class="n">val</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">while</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">dic</span><span class="p">[</span><span class="n">cur</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">val</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">cur</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="n">val</span><span class="p">])</span>
                <span class="n">cur</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span><span class="p">.</span><span class="nb">next</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>

</code></pre></div></div>

<h2 id="5äºŒå‰æ ‘">5.äºŒå‰æ ‘</h2>

<h3 id="é€’å½’äºŒå‰æ ‘">é€’å½’äºŒå‰æ ‘</h3>

<h4 id="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦">äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806164408193.png" alt="image-20240806164408193" /></p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806164414620.png" alt="image-20240806164414620" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxDepth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>         <span class="c1">#ç¬¬ä¸€ç§æ–¹æ³•
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span>

        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">def</span> <span class="nf">dfs2</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">count</span><span class="p">):</span>       <span class="c1">#ç¬¬äºŒç§æ–¹æ³•
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> 
            <span class="n">count</span><span class="o">+=</span><span class="mi">1</span>
            <span class="k">nonlocal</span> <span class="n">res</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">count</span><span class="p">)</span>
            <span class="n">dfs2</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span><span class="n">count</span><span class="p">)</span>
            <span class="n">dfs2</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span><span class="n">count</span><span class="p">)</span>

        <span class="n">dfs2</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>     
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<h4 id="ç›¸åŒçš„æ ‘">ç›¸åŒçš„æ ‘</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806174356505.png" alt="image-20240806174356505" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isSameTree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">],</span> <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">p</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">q</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">p</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">q</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">return</span> <span class="n">p</span><span class="p">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">q</span><span class="p">.</span><span class="n">val</span> <span class="ow">and</span> <span class="n">dfs</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">left</span><span class="p">,</span><span class="n">q</span><span class="p">.</span><span class="n">left</span><span class="p">)</span> <span class="ow">and</span> <span class="n">dfs</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">right</span><span class="p">,</span><span class="n">q</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="å¯¹ç§°äºŒå‰æ ‘">å¯¹ç§°äºŒå‰æ ‘</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806175147044.png" alt="image-20240806175147044" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
</span>
<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isSymmetric</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">left</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">left</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">right</span>
        
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">):</span>                 <span class="c1">#ä¼ å…¥ä¸€ä¸ªå·¦è¾¹çš„æ ‘å’Œå³è¾¹çš„æ ‘ï¼Œå› ä¸ºæ ¹èŠ‚ç‚¹æ˜¯åˆ†ç•Œç‚¹ï¼Œæ‰€ä»¥æ‹†æˆå·¦å³ä¸¤æ£µæ ‘
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">left</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">right</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">left</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">right</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            
            <span class="k">return</span> <span class="n">left</span><span class="p">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">right</span><span class="p">.</span><span class="n">val</span> <span class="ow">and</span> <span class="n">dfs</span><span class="p">(</span><span class="n">left</span><span class="p">.</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">.</span><span class="n">right</span><span class="p">)</span> <span class="ow">and</span> <span class="n">dfs</span><span class="p">(</span><span class="n">left</span><span class="p">.</span><span class="n">right</span><span class="p">,</span><span class="n">right</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>  <span class="c1">#é€’å½’å·¦è¾¹çš„å·¦å­æ ‘å’Œå³è¾¹çš„å³å­æ ‘ï¼Œå·¦è¾¹çš„å³å­æ ‘å’Œå³è¾¹çš„å·¦å­æ ‘ï¼Œåˆ¤æ–­ä»–ä»¬æ˜¯å¦ä¸€æ ·å‘¢
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="å¹³è¡¡äºŒå‰æ ‘">å¹³è¡¡äºŒå‰æ ‘</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240806181418663.png" alt="image-20240806181418663" /></p>

<p>éå¸¸å¥½çš„ä¸€é“é¢˜</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isBalanced</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>         <span class="c1">#å¦‚æœæœ‰-1ï¼Œé‚£å°±ä¸€ç›´è¿”å›
</span>                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>   <span class="c1">#è¿™è¾¹ä¹Ÿæ˜¯ä¸€æ · 
</span>            <span class="k">if</span> <span class="n">right</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="nb">abs</span><span class="p">(</span><span class="n">left</span><span class="o">-</span><span class="n">right</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>      <span class="c1">#ä½†æ˜¯åŠ ä¸€ä¸ªæ¡ä»¶ï¼Œå°±æ˜¯ä¸å¹³è¡¡çš„æ—¶å€™ä¹Ÿè¿”å›-1
</span>                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>        <span class="c1">#å½“å‰å±‚é«˜åº¦çš„è®¡ç®—æ–¹æ³•æ¨¡æ¿max     å¦åˆ™å°±è¿”å›æ­£å¸¸çš„é«˜åº¦
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span><span class="o">!=-</span><span class="mi">1</span>    
            
        
</code></pre></div></div>

<h4 id="äºŒå‰æ ‘çš„å³è§†å›¾">äºŒå‰æ ‘çš„å³è§†å›¾</h4>

<p>éå¸¸ä¸é”™çš„ä¸€é“é¢˜ï¼Œå¯ä»¥ç”¨å±‚åºéå†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€’å½’</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240808000450321.png" alt="image-20240808000450321" /></p>

<h5 id="å±‚åºéå†">å±‚åºéå†</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rightSideView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        
        <span class="n">queue</span> <span class="o">=</span> <span class="n">Deque</span><span class="p">([</span><span class="n">root</span><span class="p">])</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">clevel</span>  <span class="o">=</span><span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)):</span>   <span class="c1">#æ ‡å‡†çš„å±‚åºéå†æ¨¡æ¿
</span>                <span class="n">cnode</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>
                <span class="n">clevel</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cnode</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">cnode</span><span class="p">.</span><span class="n">left</span><span class="p">:</span>
                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cnode</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">cnode</span><span class="p">.</span><span class="n">right</span><span class="p">:</span>
                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cnode</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">clevel</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">val</span><span class="p">)</span>    
                
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<h5 id="é€’å½’">é€’å½’</h5>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240808000847654.png" alt="image-20240808000847654" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rightSideView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="n">depth</span><span class="p">):</span>    <span class="c1">#æ·±åº¦ä¼˜å…ˆéå†
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">node</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">depth</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">ans</span><span class="p">):</span>       <span class="c1">#å› ä¸ºä¼šå…ˆåˆ°æ¯ä¸€å±‚çš„æœ€å³ä¾§ï¼Œå¦‚æœåˆ«çš„çš„èŠ‚ç‚¹æŒ¡ä½ï¼Œé‚£ä¹ˆé‚£ä¸ªèŠ‚ç‚¹ä¸€å®šå·²ç»åœ¨ç­”æ¡ˆé‡Œäº†
</span>                
                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">,</span><span class="n">depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>     <span class="c1">#å…ˆæŠŠå³å­æ ‘éå†å®Œ
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">,</span><span class="n">depth</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<h4 id="éªŒè¯äºŒå‰æ ‘">éªŒè¯äºŒå‰æ ‘</h4>

<p>è¿™é‡Œå°±éœ€è¦å®ç°å¸¦åŒºé—´çš„æ ‘é€’å½’å‚æ•°ä¼ é€’</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809125914441.png" alt="image-20240809125914441" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isValidBST</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1">#å¤ªç‰›é€¼äº†
</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">leftbound</span><span class="p">,</span><span class="n">rightbound</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>    <span class="c1">#ç©ºæ ‘å°±æ˜¯æœç´¢çš„ï¼Œæ²¡æ¯›ç—…
</span>            <span class="n">v</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span>        
            <span class="n">ok</span> <span class="o">=</span>  <span class="n">v</span><span class="o">&lt;</span><span class="n">rightbound</span> <span class="ow">and</span> <span class="n">v</span> <span class="o">&gt;</span><span class="n">leftbound</span>      <span class="c1">#éªŒè¯ä¸€ä¸‹æœç´¢æ ‘çš„æœ¬åœ°æ€§è´¨ï¼Œç°åœ¨ç¬¦åˆä¹ˆ
</span>            <span class="k">return</span> <span class="n">ok</span> <span class="ow">and</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">,</span><span class="n">leftbound</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">and</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">rightbound</span><span class="p">)</span>   <span class="c1">#å³å­æ ‘å’Œå·¦å­æ ‘ä¹Ÿè¦ç¬¦åˆ
</span>        <span class="c1">#å¹¶ä¸”ï¼ŒåŒºé—´éœ€è¦å˜åŒ–ï¼Œè¿™é‡Œçš„åŒºé—´æ›´æ–°å¯ä»¥è¯¦è§ä¸‹é¢ä¸€å¼ å›¾ï¼Œå·¦å­æ ‘å°±æ›´æ–°å³è¾¹ç•Œï¼Œå³å­æ ‘å°±æ›´æ–°å·¦è¾¹ç•Œ
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="o">-</span><span class="n">inf</span><span class="p">,</span><span class="n">inf</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809130115615.png" alt="image-20240809130115615" /></p>

<p>ç¬¬äºŒç§æ–¹æ³•åŸºäºï¼Œä¸­åºéå†äºŒå‰æœç´¢æ ‘åä¼šå¾—åˆ°ä¸€ä¸ªä¸¥æ ¼é€’å¢çš„æ•°ç»„</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isValidBST</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1">#å¤ªç‰›é€¼äº†
</span>
        <span class="c1">#è¿˜æœ‰ä¸€ç§æ–¹æ³•ä»¬å°±æ˜¯ä¸­åºéå†äºŒå‰æœç´¢æ ‘ä¼šå¾—åˆ°ä¸€ä¸ªä¸¥æ ¼é€’å¢çš„æ•°ç»„
</span>        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">inorder</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
                <span class="k">return</span> 
            <span class="n">inorder</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">inorder</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
        <span class="n">inorder</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>
</code></pre></div></div>

<h4 id="äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ">äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809153057799.png" alt="image-20240809153057799" /></p>

<p>åˆ†ç±»è®¨è®º</p>

<p>å¦‚æœåœ¨é€’å½’ä¸­æ‰¾åˆ°äº†pæˆ–qï¼Œå°±ç›´æ¥è¿”å›å°±è¡Œï¼Œå› ä¸ºå¦‚æœå¦ä¸€ä¸ªåœ¨å…¶ä¸‹æ–¹ï¼Œé‚£ä¹ˆæœ€è¿‘å…¬å…±ç¥–å…ˆéƒ½æ˜¯ä¸€å¼€å§‹è¢«æ‰¾åˆ°çš„é‚£ä¸ªpæˆ–q</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809153508858.png" alt="image-20240809153508858" /></p>

<p>å¦‚æœå·¦å³å­æ ‘éƒ½æ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆè¿”å›è‡ªèº«ï¼Œå› ä¸ºåˆ«çš„æƒ…å†µä¸å¯èƒ½</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809153552904.png" alt="image-20240809153552904" /></p>

<p>å¦‚æœåªæœ‰å·¦å­æ ‘æ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆä½†è‚¯å®šä¸åœ¨å³å­æ ‘ä¸­ï¼Œå› æ­¤åªéœ€è¦é€’å½’å·¦å­æ ‘çš„ç»“æœå°±å¯ä»¥</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809153640078.png" alt="image-20240809153640078" /></p>

<p>å› æ­¤ç»“æœä¸º</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809153706788.png" alt="image-20240809153706788" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lowestCommonAncestor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="s">'TreeNode'</span><span class="p">,</span> <span class="n">p</span><span class="p">:</span> <span class="s">'TreeNode'</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="s">'TreeNode'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s">'TreeNode'</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">lca</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span> <span class="ow">or</span> <span class="n">root</span> <span class="o">==</span> <span class="n">p</span> <span class="ow">or</span> <span class="n">root</span> <span class="o">==</span> <span class="n">q</span><span class="p">:</span>   <span class="c1">#è¿™ç§æƒ…å†µéƒ½æ˜¯è¿”å›è‡ªèº«
</span>                <span class="k">return</span> <span class="n">root</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">lca</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>        <span class="c1">#çœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°
</span>            <span class="n">right</span> <span class="o">=</span> <span class="n">lca</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">left</span> <span class="ow">and</span> <span class="n">right</span><span class="p">:</span>           <span class="c1">#éƒ½æ‰¾åˆ°äº†é‚£å°±ok
</span>                <span class="k">return</span> <span class="n">root</span>
            <span class="k">if</span> <span class="n">left</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">left</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">right</span>
        <span class="k">return</span> <span class="n">lca</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</code></pre></div></div>

<h5 id="å¦‚æœè¿™æ£µæ ‘æ˜¯äºŒå‰æœç´¢æ ‘">å¦‚æœè¿™æ£µæ ‘æ˜¯äºŒå‰æœç´¢æ ‘</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">lca</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">root</span><span class="p">.</span><span class="n">val</span>
            <span class="k">if</span> <span class="n">p</span><span class="p">.</span><span class="n">val</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">q</span><span class="p">.</span><span class="n">val</span> <span class="o">&lt;</span><span class="n">x</span><span class="p">:</span> <span class="c1">#éƒ½åœ¨å·¦è¾¹
</span>                <span class="k">return</span> <span class="n">lca</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">p</span><span class="p">.</span><span class="n">val</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">q</span><span class="p">.</span><span class="n">val</span> <span class="o">&gt;</span><span class="n">x</span><span class="p">:</span> <span class="c1">#éƒ½åœ¨å³è¾¹
</span>                <span class="k">return</span> <span class="n">lca</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">root</span>           <span class="c1">#ç©ºèŠ‚ç‚¹æˆ–è€…ä¸€ä¸ªåœ¨å·¦ä¸€ä¸ªåœ¨å³å°±ç›´æ¥è¿”å›å°±å¯ä»¥äº†
</span>        <span class="k">return</span> <span class="n">lca</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</code></pre></div></div>

<p>äºŒå‰æ ‘çš„ä»£ç ä¹Ÿæ˜¯åŒæ ·é€‚ç”¨çš„</p>

<h3 id="bfs-å¹¿åº¦ä¼˜å…ˆæœç´¢å¯ä»¥ä½¿ç”¨åŸºäºdequeçš„å±‚åºéå†">BFS å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå¯ä»¥ä½¿ç”¨åŸºäºDequeçš„å±‚åºéå†</h3>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809181906175.png" alt="image-20240809181906175" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">levelOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">root</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">Deque</span><span class="p">([</span><span class="n">root</span><span class="p">])</span> <span class="c1">#å…ˆä¼ å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
</span>        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>     <span class="c1">#è¿™é‡Œæ¯æ¬¡åˆ°è¿™é‡Œå°±æ˜¯ä¸€å±‚æ‰€æœ‰çš„
</span>            <span class="n">layer</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)):</span> <span class="c1">#éå†è¿™ä¸€å±‚çš„æ¯ä¸€ä¸ª
</span>                <span class="n">current</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span> <span class="c1">#ä»å¤´éƒ¨å¼€å§‹ï¼Œè¿™æ ·æ¯ä¸€å±‚å°±æ˜¯åˆ†å¼€çš„
</span>                <span class="n">layer</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">current</span><span class="p">.</span><span class="n">left</span><span class="p">:</span>          <span class="c1">#åŠ å…¥ä¸‹ä¸€å±‚çš„
</span>                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">current</span><span class="p">.</span><span class="n">right</span><span class="p">:</span>
                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>       <span class="c1">#ä¸ºäº†è¿”å›å€¼çš„å½¢å¼
</span>        <span class="k">return</span> <span class="n">res</span>           
</code></pre></div></div>

<h2 id="6å›æº¯">6.å›æº¯</h2>

<h4 id="ç”µè¯å·ç çš„å­—æ¯ç»„åˆ">ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240809185424619.png" alt="image-20240809185424619" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">letterCombinations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digits</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">digits</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dic</span> <span class="o">=</span><span class="p">{</span>
            <span class="s">"2"</span><span class="p">:</span><span class="s">"abc"</span><span class="p">,</span>
            <span class="s">"3"</span><span class="p">:</span><span class="s">"def"</span><span class="p">,</span>
            <span class="s">"4"</span><span class="p">:</span><span class="s">"ghi"</span><span class="p">,</span>
            <span class="s">"5"</span><span class="p">:</span><span class="s">"jkl"</span><span class="p">,</span>
            <span class="s">"6"</span><span class="p">:</span><span class="s">"mno"</span><span class="p">,</span>
            <span class="s">"7"</span><span class="p">:</span><span class="s">"pqrs"</span><span class="p">,</span>
            <span class="s">"8"</span><span class="p">:</span><span class="s">"tuv"</span><span class="p">,</span>
            <span class="s">"9"</span><span class="p">:</span><span class="s">"wxyz"</span>
        <span class="p">}</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">digits</span><span class="p">):</span>     <span class="c1">#è¿™é‡Œçš„indexæŒ‡çš„æ˜¯åˆ°äº†è¿™ä¸ªdigitsçš„ç¬¬å‡ ä½
</span>                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>     <span class="c1">#è¿™é‡Œå¤æ‚åº¦æ˜¯n
</span>                <span class="k">return</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">dic</span><span class="p">[</span><span class="n">digits</span><span class="p">[</span><span class="n">index</span><span class="p">]]</span>   <span class="c1">#å½“å‰ä½å¯ä»¥é€‰æ‹©çš„å­—æ¯     è¿™é‡Œç”±äºæœ€å¤šå¯ä»¥æœ‰4ä¸ªå­—æ¯ï¼Œå› æ­¤æ˜¯4^n
</span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">current</span><span class="p">:</span>
                <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
                <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>     <span class="c1">#æ¢å¤ç°åœºï¼Œä¸ç„¶è¿™ä¸ªpathä¼šè¶Šæ¥è¶Šé•¿
</span>        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,[])</span>
        <span class="k">return</span> <span class="n">res</span>     
    <span class="c1">#æ—¶é—´å¤æ‚åº¦O(n*4^n)
</span></code></pre></div></div>

<h3 id="1å­é›†å‹å›æº¯">1.å­é›†å‹å›æº¯</h3>

<h4 id="å­é›†">å­é›†</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240813173825448.png" alt="image-20240813173825448" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">subsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>           <span class="c1">#è¿™ä¸ªindexå¯ä»¥è½¬åŒ–ä¸ºæ“ä½œçš„æ¬¡æ•°
</span>            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>    <span class="c1">#éœ€è¦copyï¼Œä¸ç„¶ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå¼•ç”¨
</span>                <span class="k">return</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>     <span class="c1">#ä¸é€‰
</span>            <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>         <span class="c1">#è¿™é‡Œæ¯æ¬¡æ“ä½œæ•°+1
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>      <span class="c1">#é€‰
</span>            <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>           <span class="c1">#æ¢å¤ç°åœº
</span>        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,[])</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p>ç¬¬äºŒç§æ–¹æ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">subsets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>       <span class="c1">#æ¯æ¬¡å¿…é¡»é€‰ä¸€ä¸ª
</span>            <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>  <span class="c1">#æ¯æ¬¡é€’å½’éƒ½åŠ å…¥ä¸€ä¸‹å½“å‰çš„è·¯å¾„
</span>            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>           <span class="c1">#è¿™å°±åœæ­¢äº†
</span>                <span class="k">return</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span> <span class="c1">#æ¯æ¬¡åœ¨å‰©ä¸‹çš„numsä¸­é€‰æ‹©
</span>                <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>  <span class="c1">#è¿™é‡Œæ˜¯i+1,æ˜¯æˆ‘ä»¬äººä¸ºå®šä¹‰çš„é¡ºåº
</span>                <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,[])</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<h4 id="åˆ†å‰²å›æ–‡ä¸²">åˆ†å‰²å›æ–‡ä¸²</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240813180523648.png" alt="image-20240813180523648" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>  <span class="c1">#ç”±äºæ¯ä¸€ä¸ªéƒ½è¦å‡ºç°ï¼Œå› æ­¤åœ¨æœ€åæ”¾å…¥ç»“æœ
</span>                <span class="k">return</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)):</span> <span class="c1">#j ä½œä¸ºå­—ä¸²çš„ç»“æŸéƒ¨åˆ†
</span>                <span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>   <span class="c1">#iä½œä¸ºè¿™ä¸ªå­—ä¸²çš„ç»“æŸä½ç½®ï¼Œä¹Ÿå°±ä»£è¡¨äº†æ¯ä¸€ä¸ªé€—å·
</span>                <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="n">t</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>       <span class="c1">#ç®€å•åˆ¤æ–­ä¸€ä¸‹ï¼Œä¹Ÿå¯ä»¥ç”¨ç›¸å‘åŒæŒ‡é’ˆ
</span>                    <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
                    <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>   <span class="c1">#äººä¸ºè§„å®šçš„é¡ºåº
</span>                    <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,[])</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<h3 id="2ç»„åˆå‹å›æº¯">2.ç»„åˆå‹å›æº¯</h3>

<h4 id="-1"><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240813210758329.png" alt="image-20240813210758329" /></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">combine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>   <span class="c1">#ç»å…¸å¼€å±€
</span>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>         <span class="c1">#è¿™è¾¹å¯ä»¥ä½œä¸ºç­›é€‰ï¼Œè¿™é‡Œæ˜¯é•¿åº¦ä¸ºkçš„
</span>                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
                <span class="k">return</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>        <span class="c1">#åœ¨è¿™é‡Œä½¿ç”¨æ ‡å‡†çš„éå†
</span>                <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>          <span class="c1">#ç¡®ä¿é€‰æ‹©è¿‡çš„ä¸ä¼šå†é€‰æ‹©
</span>                <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,[])</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240813213803029.png" alt="image-20240813213803029" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">combinationSum3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="n">target</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">target</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>    <span class="c1">#å‰ªæ
</span>                <span class="k">return</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">==</span><span class="n">k</span> <span class="ow">and</span> <span class="nb">sum</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">==</span><span class="n">n</span><span class="p">:</span>  <span class="c1">#ç»„åˆé—®é¢˜ï¼Œä¸€æ ·çš„ï¼Œåœ¨è¿™é‡ŒåŠ ä¸€ä¸ªåˆ¤æ–­
</span>                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
                <span class="k">return</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
                <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="o">-</span><span class="n">i</span>          <span class="c1">#æ¯æ¬¡å‡å°‘targetï¼Œå¦‚æœå¤§äº†ï¼Œé‚£å°±ä¸éœ€è¦å†éå†äº†
</span>                <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="n">target</span><span class="p">)</span>
                <span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="o">+</span><span class="n">i</span>      <span class="c1">#æ¢å¤ç°åœº
</span>                <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">1</span><span class="p">,[],</span><span class="n">n</span><span class="p">)</span>        <span class="c1">#ç›®æ ‡æ˜¯n
</span>        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240813214738748.png" alt="image-20240813214738748" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">generateParenthesis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>

        <span class="n">length</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">n</span>   <span class="c1">#æ€»é•¿åº¦
</span>        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">,</span><span class="n">path</span><span class="p">):</span> <span class="c1">#è¿™é‡Œè®°å½•ï¼Œå·²ç»æ”¾äº†å¤šå°‘ä¸ªï¼Œå·¦æ‹¬å·å’Œå³æ‹¬å·å„æœ‰å¤šå°‘ä¸ªï¼Œå½“å‰çš„æ‹¬å·å½¢æ€
</span>            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">length</span> <span class="ow">and</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="p">:</span>       <span class="c1">#è®°å½•ç­”æ¡ˆçš„æ—¶é—´ï¼Œé•¿åº¦å¤Ÿäº†ï¼Œå¹¶ä¸”å·¦å³æ‹¬å·ç›¸ç­‰å°±å¯ä»¥
</span>                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">left</span><span class="o">&lt;</span><span class="n">n</span><span class="p">:</span>          <span class="c1">#è¿™é‡Œæœ€é‡è¦çš„æ˜¯ï¼Œå·¦æ‹¬å·å¯ä»¥åŠ åˆ°nï¼Œè€Œæœ‰æ‹¬å·çš„æ•°é‡ä¸èƒ½å¤§äºå·¦æ‹¬å·
</span>                <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"("</span><span class="p">)</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">right</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
                <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">right</span><span class="o">&lt;</span><span class="n">left</span><span class="p">:</span>  <span class="c1">#å› æ­¤æ¯æ¬¡æ·»åŠ äº†å·¦æ‹¬å·ï¼Œå³æ‹¬å·æ‰æœ‰æœºä¼šè¡¥å……
</span>                <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">")"</span><span class="p">)</span>
                <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
                <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,[])</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<h3 id="3æ’åˆ—å‹å›æº¯">3.æ’åˆ—å‹å›æº¯</h3>

<h4 id="å…¨æ’åˆ—">å…¨æ’åˆ—</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240813220000520.png" alt="image-20240813220000520" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">permute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>   <span class="c1">#ç»å…¸å¼€å±€
</span>            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>         <span class="c1">#å¦‚æœè¾¾æˆï¼Œå°±åŠ å…¥ç­”æ¡ˆ
</span>                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
                <span class="k">return</span> 
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">:</span>         <span class="c1">#è¿™é‡Œåªéœ€è¦å¤šåˆ¤æ–­ä¸€æ­¥å°±å¯ä»¥
</span>                <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">path</span><span class="p">:</span>  <span class="c1">#å¦‚æœä¸åœ¨å°±é¿å…äº†é€‰æ‹©é‡å¤
</span>                    <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                    <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>
                    <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,[])</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p>æ—¶é—´å¤æ‚åº¦ä¸ºO (n*n!)</p>

<p>nä¹˜ä»¥nçš„é˜¶ä¹˜ï¼Œå› ä¸ºå¯é€‰çš„å­—æ¯æ˜¯è¶Šæ¥è¶Šå°‘çš„ï¼Œå› æ­¤æ ‘çš„æ·±åº¦å’Œæ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¹Ÿæ˜¯è¶Šæ¥è¶Šå°‘çš„</p>

<h4 id="å…¨æ’åˆ—2">å…¨æ’åˆ—2</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240813222307034.png" alt="image-20240813222307034" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">permuteUnique</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">pos</span> <span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>    <span class="c1">#è¿™é‡Œéœ€è¦é¢å¤–åŠ å…¥ä¸€ä¸ªä½ç½®åˆ—è¡¨ï¼Œç”¨äºå»é™¤å·²ç»ä½¿ç”¨è¿‡äº†çš„ä½ç½®çš„æ•°
</span>            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>     <span class="c1">#å»é‡ï¼Œå› ä¸ºä¼šæœ‰å¤šç§ç›¸ä¼¼çš„è·¯å¾„
</span>                <span class="k">if</span> <span class="n">path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                    <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span>
                    <span class="k">return</span> 
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span><span class="mi">0</span><span class="p">:</span>        <span class="c1">#è¿™ä¸ªä½ç½®çš„æ•°å­—å¦‚æœæ²¡æœ‰è¢«ä½¿ç”¨
</span>                    <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>            <span class="c1">#ä½¿ç”¨è¿™ä¸ªä½ç½®çš„æ•°å­—
</span>                    <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
                    <span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
                    <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,[],</span><span class="n">pos</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
        
</code></pre></div></div>

<h4 id="nçš‡å">Nçš‡å</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240814122231934.png" alt="image-20240814122231934" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">solveNQueens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">hang</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">n</span>     <span class="c1">#å¯ä»¥é€šè¿‡å››ä¸ªåˆ—è¡¨æ¥ç›‘æ§æ¨ªå‘ç«–å‘æ–œå‘
</span>        <span class="n">lie</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">n</span> 
        <span class="n">otho</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#-3-2-10123
</span>        <span class="n">etho</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#3210123
</span>
        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">reapath</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">addqueen</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>        <span class="c1">#æ·»åŠ ä¸€ä¸ªçš‡åï¼Œå¹¶ä¸”æ ‡æ³¨æ”»å‡»ä½ç½®
</span>            <span class="n">hang</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">lie</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">otho</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">+</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">etho</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        
        <span class="k">def</span> <span class="nf">removequeen</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>    <span class="c1">#åˆ é™¤çš‡åï¼Œå¹¶ä¸”æ¸…é™¤æ”»å‡»ä½ç½®
</span>            <span class="n">hang</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">lie</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">otho</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">+</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">etho</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">def</span> <span class="nf">attacked</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>         <span class="c1">#åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦ä¼šè¢«æ”»å‡»
</span>            <span class="k">return</span> <span class="n">hang</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="ow">or</span> <span class="n">lie</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="ow">or</span> <span class="n">otho</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">+</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">etho</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">]</span>
        
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">y</span> <span class="o">==</span><span class="n">n</span><span class="p">:</span>          <span class="c1">#è¿™é‡Œæ˜¯å½“yåˆ°è¾¾åº•éƒ¨çš„æ—¶å€™ï¼Œç»“æŸé€’å½’
</span>                <span class="k">nonlocal</span> <span class="n">res</span>        <span class="c1">#è¿™é‡Œå¯ä»¥åœ¨å¦ä¸€é¢˜ä¸­ä½¿ç”¨ï¼Œç”¨äºè¿”å›ç»“æœçš„æ•°é‡
</span>                <span class="n">res</span><span class="o">+=</span><span class="mi">1</span>
                <span class="n">reapath</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">.</span><span class="n">copy</span><span class="p">())</span> <span class="c1">#è¿™ä¸ªæ˜¯è·¯å¾„
</span>                <span class="k">return</span> 
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>   <span class="c1">#å¯¹äºæ¯ä¸€è¡Œçš„æ¯ä¸€ä¸ªä½ç½®
</span>                <span class="k">if</span> <span class="ow">not</span> <span class="n">attacked</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>   <span class="c1">#å¦‚æœä¸è¢«æ”»å‡»å°±æ”¾ç½®ï¼Œç„¶åé€’å½’ä¸‹ä¸€è¡Œ
</span>                    <span class="n">addqueen</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
                    <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"."</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="s">"Q"</span><span class="o">+</span><span class="s">"."</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span>     <span class="c1">#è¿™é‡Œå¯ä»¥åˆ¶ä½œé¢˜ç›®è¦æ±‚çš„æ ¼å¼
</span>                    <span class="n">dfs</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">path</span><span class="p">)</span>      <span class="c1">#yè¿›å…¥ä¸‹ä¸€è¡Œ
</span>                    <span class="n">path</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="n">removequeen</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,[])</span>    
        <span class="k">print</span><span class="p">(</span><span class="n">reapath</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">reapath</span>
    
    <span class="c1">#æ—¶é—´å¤æ‚ä¸ºO(N^2*N!)
</span></code></pre></div></div>

<h2 id="7åŠ¨æ€è§„åˆ’">7åŠ¨æ€è§„åˆ’</h2>

<h3 id="ä»è®°å¿†åŒ–æœç´¢åˆ°é€’æ¨">ä»è®°å¿†åŒ–æœç´¢åˆ°é€’æ¨</h3>

<p>æ‰€æœ‰çš„DPéƒ½å¯ä»¥çœ‹ä½œå›æº¯ï¼Œä½†æ˜¯å›æº¯å¾ˆæ…¢ã€‚å› æ­¤è®°å½•å›æº¯çš„æ¯ä¸€æ­¥ä¹Ÿå°±å˜æˆäº†DP</p>

<h4 id="æ‰“å®¶åŠ«èˆ">æ‰“å®¶åŠ«èˆ</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240814153920958.png" alt="image-20240814153920958" /></p>

<p>å¯ä»¥å…ˆç”¨å›æº¯åš</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span>
        <span class="o">@</span><span class="n">cache</span>    <span class="c1">#è®°å¿†åŒ–ï¼Œå¯ä»¥åŠ é€Ÿï¼Œä½†æ˜¯å‡½æ•°çš„å‚æ•°å¿…é¡»éƒ½æ˜¯å¯ä»¥å“ˆå¸Œçš„
</span>        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">current</span><span class="p">):</span>
            <span class="k">nonlocal</span> <span class="n">res</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">current</span><span class="p">)</span>   <span class="c1">#æ¯æ¬¡éƒ½æ›´æ–°æœ€å¤§å€¼
</span>            <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>   <span class="c1">#ç”±äºæ¶‰åŠåˆ°index+1å’Œ+2ï¼Œå› æ­¤éå†è¾¹ç•Œéœ€è¦æ¢
</span>                <span class="k">return</span>
            
            <span class="n">a</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">current</span><span class="p">)</span>  <span class="c1">#ç¬¬ä¸€ç§æƒ…å†µæ˜¯å½“å‰çš„ä¸é€‰ï¼Œé€‰ä¸‹ä¸€ä¸ªï¼Œå› æ­¤index+1å¯ä»¥é€‰
</span>            <span class="n">b</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="n">current</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>  <span class="c1">#ç¬¬äºŒç§æƒ…å†µæ˜¯å½“å‰çš„é€‰ï¼Œç„¶åä¸‹ä¸€ä¸ªä¸å¯ä»¥é€‰ï¼Œå› æ­¤index+2ï¼Œç„¶åcurrentåŠ ä¸Šå½“å‰çš„é’±
</span>            
        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">cache</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">n</span>   <span class="c1">#å¦‚æœä¸ç”¨è£…é¥°å™¨ï¼Œé‚£å°±è‡ªå·±å®ç°ä¸€ä¸ª
</span>        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">cache</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">:</span>         <span class="c1">#æœ¬è´¨ä¸Šä¹Ÿæ˜¯å‚¨å­˜ç»“æœ
</span>                <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">=</span><span class="n">res</span>
            <span class="k">return</span> <span class="n">res</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

</code></pre></div></div>

<p>æ¥ä¸‹æ¥ä½¿ç”¨dpï¼Œå°†ç©ºé—´å¤æ‚åº¦ä¹Ÿä¼˜åŒ–åˆ°O(1)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>   <span class="c1">#ç”¨æ•°ç»„è®°å½•æ¯ä¸€æ­¥çš„æœ€å¤§ä»·å€¼
</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="c1">#è¿™ä¸ªé€’æ¨éå¸¸å…³é”®ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡å‰é¢çš„å¾—åˆ°åé¢çš„
</span>        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>    <span class="c1">#æœ€åçš„é‚£ä¸ªå°±æ˜¯ç­”æ¡ˆ
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">dp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">f0</span> <span class="o">=</span> <span class="n">f1</span> <span class="o">=</span> <span class="mi">0</span>              <span class="c1">#å…¶å®ä¸€å…±ä¹Ÿå°±ç”¨ä¸‰ä¸ªæ•°ï¼Œå› æ­¤åœ¨æ•°ç»„é‡Œé¢æ¢æ¢å°±è¡Œäº†
</span>        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
            <span class="n">newf</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="n">f0</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">f0</span> <span class="o">=</span> <span class="n">f1</span>
            <span class="n">f1</span> <span class="o">=</span> <span class="n">newf</span>
        <span class="k">return</span> <span class="n">f1</span>
</code></pre></div></div>

<h3 id="èƒŒåŒ…é—®é¢˜">èƒŒåŒ…é—®é¢˜</h3>

<h4 id="-2"><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240814164309595.png" alt="image-20240814164309595" /></h4>

<h4 id="01èƒŒåŒ…é—®é¢˜">01èƒŒåŒ…é—®é¢˜</h4>

<p>01èƒŒåŒ…é—®é¢˜ä¸­ï¼Œæ¯æ ·å¯ä»¥é€‰æ‹©è£…å…¥èƒŒåŒ…çš„ç‰©å“æ˜¯æœ‰é™ä¸ªï¼Œå¹¶ä¸æ˜¯æ— é™å¤šä¸ªçš„ã€‚</p>

<p>è¿™é‡Œç»™å‡ºä¸€ä¸ªæœ€ç®€å•çš„èƒŒåŒ…é—®é¢˜</p>

<p>èƒŒåŒ…çš„å®¹é‡ä¸ºcapacityï¼Œwæ•°ç»„ä»£è¡¨äº†æ¯ä¸€ä¸ªç‰©å“å ç”¨çš„ç©ºé—´ï¼Œvæ•°ç»„ä»£è¡¨äº†ä»–ä»¬çš„ä»·å€¼</p>

<p>æ±‚å‡ºèƒŒåŒ…æ‰€èƒ½å¤Ÿè£…çš„æœ€å¤§ä»·å€¼</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">zeronebag</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">v</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
    <span class="o">@</span><span class="n">cache</span>
    <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>   <span class="c1">#iæ˜¯æŒ‡ç¬¬iä¸ªç‰©å“ï¼Œcæ˜¯æŒ‡å½“å‰è¿˜æœ‰å¤šå°‘å®¹é‡
</span>        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">:</span>     <span class="c1">#éå†å®Œæˆå°±é€€å‡º
</span>            <span class="k">return</span> <span class="mi">0</span>
       	<span class="k">if</span> <span class="n">c</span><span class="o">&lt;</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>        <span class="c1">#å¦‚æœå‰©ä½™å®¹é‡ä¸å¤Ÿè£…ï¼Œé‚£å°±è·³è¿‡ï¼Œè¿”å›ä¸è£…çš„æƒ…å†µ
</span>            <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
       	<span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="o">-</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>    <span class="c1">#å¦‚æœå¤Ÿï¼Œé‚£ä¹ˆå¯ä»¥é€‰æˆ–è€…ä¸é€‰ï¼Œéƒ½é€’å½’ä¸€ä¸‹
</span>   	<span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">capacity</span><span class="p">)</span>
    
</code></pre></div></div>

<h5 id="ç›®æ ‡å’Œ">ç›®æ ‡å’Œ</h5>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240814172211710.png" alt="image-20240814172211710" /></p>

<p>å…ˆæ¥ä¸€ä¸ªæš´åŠ›è§£æ³•ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆé«˜</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findTargetSumWays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">currentsum</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">currentsum</span> <span class="o">==</span> <span class="n">target</span> <span class="ow">and</span> <span class="n">index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">currentsum</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">])</span> <span class="c1">#åŠ æˆ–è€…å‡  
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">currentsum</span><span class="o">-</span><span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
        <span class="n">dfs</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div></div>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¦ä¸€ç§æƒ³æ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findTargetSumWays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="c1">#p   é€‰æ‹©çš„åŠ å·çš„æ•°çš„åˆ
</span>        <span class="c1">#s-p   é€‰æ‹©çš„å‡å·çš„æ•°çš„åˆ
</span>        <span class="c1">#p-(s-p) = t       æ ¹æ®é¢˜ç›®æœ‰
</span>        <span class="c1">#2p = s+t      #åŒ–ç®€
</span>        <span class="c1">#p = (s+t)/2       #è½¬åŒ–ä¸º
</span>        <span class="n">target</span><span class="o">+=</span><span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">target</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">target</span><span class="o">%</span><span class="mi">2</span><span class="p">:</span>  <span class="c1">#è¿™é‡Œå¯ä»¥æå‰åˆ¤æ–­ï¼Œå¦‚æœä¸èƒ½è¢«2æ•´é™¤ï¼Œé‚£å°±è¯æ˜æ°¸è¿œä¸å¯ä»¥å¾—åˆ°
</span>            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">target</span> <span class="o">//=</span><span class="mi">2</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="o">@</span><span class="n">cache</span>     <span class="c1">#åŠ é€Ÿï¼Œæˆ‘ä»¬pythonç©å®¶çœŸçš„å¤ªæœ‰æ“ä½œäº†
</span>        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">current</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">current</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>  <span class="c1">#å¦‚æœcurrentè¢«å‡ä¸º0é‚£è¯æ˜æ­£å¥½å¤Ÿï¼Œå› æ­¤è¿”å›1ï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„ç»“æœ
</span>            <span class="k">if</span> <span class="n">current</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span>       <span class="c1">#é€‰ä¸äº†ï¼Œå¤ªå¤§äº†
</span>                <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">current</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">current</span><span class="p">)</span> <span class="o">+</span> <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">current</span><span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>    <span class="c1">#é€‰æˆ–ä¸é€‰ï¼Œç›¸åŠ æ˜¯å› ä¸ºè¦è¿”å›ç»“æœæ•°é‡
</span>        
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></div>

<p>æ”¹æˆé€’æ¨</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findTargetSumWays</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">target</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">target</span><span class="o">+=</span><span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">target</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">target</span><span class="o">%</span><span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">target</span> <span class="o">//=</span><span class="mi">2</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>

        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">target</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
        <span class="c1">#è¿™é‡Œ0-targetä¸€å…±æœ‰target+1ä¸ªå€¼ï¼Œåé¢ä¹Ÿæ˜¯ä¸€æ ·
</span>        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span> 
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">target</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">c</span><span class="p">]</span>   <span class="c1">#è¿™ä¸ªæ•°æ²¡é€‰ï¼Œtargetä¹Ÿæ²¡å˜
</span>                <span class="k">else</span><span class="p">:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">c</span><span class="o">-</span><span class="n">x</span><span class="p">]</span> <span class="o">+</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">c</span><span class="p">]</span>  <span class="c1">#æ‰€æœ‰çš„ç»„åˆåŠ èµ·æ¥
</span>        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)][</span><span class="n">target</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c1"># è®¡ç®—æ•°ç»„çš„æ€»å’Œå‡å»ç›®æ ‡å€¼çš„ç»å¯¹å€¼ï¼Œå¹¶ç¡®å®šè½¬æ¢æˆçš„èƒŒåŒ…é—®é¢˜çš„å®¹é‡
</span>        <span class="n">total_sum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">total_sum</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">s</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">half_sum</span> <span class="o">=</span> <span class="n">s</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># èƒŒåŒ…å®¹é‡
</span>
        <span class="n">num_items</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="c1"># åˆå§‹åŒ–åŠ¨æ€è§„åˆ’è¡¨æ ¼ï¼Œdp[i][j]è¡¨ç¤ºå‰iä¸ªç‰©å“ä¸­ï¼Œèƒ½å¤Ÿè£…æ»¡å®¹é‡ä¸ºjçš„èƒŒåŒ…çš„æ–¹æ¡ˆæ•°
</span>        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">half_sum</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_items</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># åˆå§‹æ¡ä»¶ï¼šä¸é€‰æ‹©ä»»ä½•ç‰©å“ï¼Œè£…æ»¡å®¹é‡ä¸º0çš„èƒŒåŒ…æœ‰1ç§æ–¹å¼
</span>
        <span class="c1"># éå†æ¯ä¸ªç‰©å“
</span>        <span class="k">for</span> <span class="n">item_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_items</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="c1"># éå†æ¯ä¸ªå¯èƒ½çš„å®¹é‡
</span>            <span class="k">for</span> <span class="n">capacity</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">half_sum</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">capacity</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">item_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">item_index</span><span class="p">][</span><span class="n">capacity</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">item_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">capacity</span><span class="p">]</span>  <span class="c1"># åªèƒ½ä¸é€‰å½“å‰ç‰©å“
</span>                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">item_index</span><span class="p">][</span><span class="n">capacity</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">item_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">capacity</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">item_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="p">[</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">item_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span>  <span class="c1"># ä¸é€‰å½“å‰ç‰©å“ + é€‰å½“å‰ç‰©å“
</span>
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">num_items</span><span class="p">][</span><span class="n">half_sum</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="å®Œå…¨èƒŒåŒ…é—®é¢˜">å®Œå…¨èƒŒåŒ…é—®é¢˜</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240814180543143.png" alt="image-20240814180543143" /></p>

<h5 id="é›¶é’±å…‘æ¢">é›¶é’±å…‘æ¢</h5>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240814192943190.png" alt="image-20240814192943190" /></p>

<p>é¦–å…ˆæ˜¯æœ€è ¢çš„åŠæ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">coinChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">res</span> <span class="o">=</span> <span class="n">inf</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">still</span><span class="p">,</span><span class="n">coinn</span><span class="p">):</span>         <span class="c1">#stillå°±æ˜¯å½“å‰è¿˜éœ€è¦é€‰æ‹©å¤šå°‘é’±  indexæ˜¯å½“å‰åœ¨å“ªç§ç¡¬å¸ä¸Šçº ç»“å‘¢
</span>            <span class="k">if</span> <span class="n">still</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>    <span class="c1">#coinnå°±æ˜¯å½“å‰é€‰æ‹©äº†å¤šå°‘ä¸ªç¡¬å¸
</span>                <span class="k">nonlocal</span> <span class="n">res</span>
                <span class="n">res</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">coinn</span><span class="p">)</span> 
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">still</span> <span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">still</span><span class="o">-</span><span class="n">coins</span><span class="p">[</span><span class="n">index</span><span class="p">],</span><span class="n">coinn</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#è¿™é‡Œå’Œ01èƒŒåŒ…é—®é¢˜ä¸ä¸€æ ·çš„æ˜¯ï¼Œåœ¨é€‰æ‹©åï¼Œindexä¸éœ€è¦-1ï¼Œä½ å¯ä»¥ç»§ç»­é€‰ï¼Œå¦‚æœä¸é€‰ï¼Œå†-1
</span>            <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">still</span><span class="p">,</span><span class="n">coinn</span><span class="p">)</span>
        <span class="n">dfs</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">amount</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span> <span class="k">if</span> <span class="n">res</span><span class="o">!=</span><span class="n">inf</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>  

</code></pre></div></div>

<p>å†æ¥ä¸€ç§ç›´æ¥è¿”å›çš„</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">coinChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">c</span><span class="o">==</span><span class="mi">0</span> <span class="k">else</span> <span class="n">inf</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">coins</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="n">c</span><span class="o">-</span><span class="n">coins</span><span class="p">[</span><span class="n">index</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">dfs</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="p">))</span>  <span class="c1">#è¿™è¾¹è¿”å›å€¼ç›´æ¥å°±æ˜¯ç¡¬å¸ä¸ªæ•°ï¼Œå› æ­¤éœ€è¦+1
</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">amount</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span> <span class="k">if</span> <span class="n">res</span><span class="o">!=</span><span class="n">inf</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div>

<p>é€’æ¨å†™æ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">coinChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coins</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>
        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="n">inf</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span> <span class="c1">#è¿™è¾¹éƒ½æ˜¯è¦+1çš„å› ä¸ºæ€»çš„è¦è¿­ä»£çš„å¯¹è±¡ä¸ªæ•°æ˜¯è¿™ä¹ˆå¤š
</span>        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>     <span class="c1">#ç¬¬ä¸€ä¸ªä½ç½®è¦åˆå§‹åŒ–
</span>        <span class="k">for</span> <span class="n">cindex</span><span class="p">,</span><span class="n">cvalue</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coins</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">am</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">am</span> <span class="o">&lt;</span> <span class="n">cvalue</span><span class="p">:</span>           <span class="c1">#å¦‚æœä¸å¤Ÿ
</span>                    <span class="n">f</span><span class="p">[</span><span class="n">cindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">am</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">cindex</span><span class="p">][</span><span class="n">am</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>                     <span class="c1">#å…¶ä»–æƒ…å†µå°±æ˜¯é€‰æˆ–è€…ä¸é€‰
</span>                    <span class="n">f</span><span class="p">[</span><span class="n">cindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">am</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">cindex</span><span class="p">][</span><span class="n">am</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">cindex</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">am</span><span class="o">-</span><span class="n">cvalue</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#è¿™åé¢ä¸€ä¸ª+1å°±å¯¹åº”äº†å®Œå…¨èƒŒåŒ…çš„æ€§è´¨
</span>        <span class="n">res</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">amount</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">res</span> <span class="k">if</span> <span class="n">res</span> <span class="o">&lt;</span> <span class="n">inf</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div>

<h3 id="çº¿æ€§dp">çº¿æ€§DP</h3>

<h4 id="æœ€é•¿å…¬å…±å­åºåˆ—">æœ€é•¿å…¬å…±å­åºåˆ—</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240814204448750.png" alt="image-20240814204448750" /></p>

<p>å…ˆæ¥ä¸€ä¸ªå›æº¯è§£æ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestCommonSubsequence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text2</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n1</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">text1</span><span class="p">)</span>     <span class="c1">#è¿™é‡Œæ˜¯é•¿åº¦
</span>        <span class="n">n2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">text2</span><span class="p">)</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">j</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>    <span class="c1">#å¦‚æœindexåˆ°äº†ï¼Œé‚£å°±è¿”å›ï¼Œè¡¨æ˜æ²¡æœ‰äº†
</span>                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">text1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">text2</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>     <span class="c1">#å¦‚æœä¸¤ä¸ªå­—æ¯ç›¸ç­‰ï¼Œé‚£å°±å¯ä»¥éƒ½é€‰
</span>                <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>  <span class="c1">#å¦‚æœä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆåªé€‰ä¸€ä¸ª
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n1</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">n2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
   <span class="c1">#æ—¶é—´å¤æ‚åº¦O(n1*n2)
</span></code></pre></div></div>

<p>é€’æ¨å†™æ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestCommonSubsequence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text2</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">text1</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">text2</span><span class="p">)</span>

        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">text1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">text2</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="ç¼–è¾‘è·ç¦»">ç¼–è¾‘è·ç¦»</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240815133917223.png" alt="image-20240815133917223" /></p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240815140304897.png" alt="image-20240815140304897" /></p>

<p>é¦–å…ˆæ˜¯å›æº¯å†™æ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">word2</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">word1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">word2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word1</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word2</span><span class="p">)</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>      
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span>        <span class="c1">#å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªå­—ç¬¦ä¸²æ²¡äº†ï¼Œé‚£ä¹ˆå°±æ˜¯è¦åˆ æ‰å¦ä¸€ä¸ªçš„æ‰€æœ‰ï¼Œéœ€è¦è¿™ä¹ˆå¤šæ“ä½œ
</span>            <span class="k">if</span> <span class="n">j</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
            <span class="k">if</span> <span class="n">word1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">word2</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>       <span class="c1">#å¦‚æœè¿™ä¸¤ä¸ªå­—æ¯ä¸€æ ·ï¼Œé‚£å°±ä¸éœ€è¦æ“ä½œï¼Œç›´æ¥è¿”å›ä¸‹ä¸€éƒ¨åˆ†
</span>            <span class="k">else</span><span class="p">:</span>           <span class="c1">#è¿™é‡Œæ˜¯å…³é”®ï¼Œè¿™ä¸‰ä¸ªæ“ä½œï¼Œæ’å…¥ï¼Œåˆ é™¤ï¼Œæ›¿æ¢ï¼Œå¯ä»¥æŠ½è±¡ä¸º
</span>                            <span class="c1">#å†word1ä¸­æ’å…¥ï¼Œä¹Ÿå°±æ˜¯åœ¨word2ä¸­åˆ é™¤ä¸€ä¸ª
</span>                    		<span class="c1">#å†word1ä¸­åˆ é™¤ï¼Œé‚£å°±æ­£å¸¸åˆ é™¤ä¸€ä¸ª
</span>                        	<span class="c1">#æ›¿æ¢ï¼Œé‚£å°±æ„å‘³ç€ä¸¤è¾¹éƒ½å‡å°‘ä¸€ä¸ª
</span>                <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<p>é€’æ¨</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">word2</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word1</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word2</span><span class="p">)</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="c1">#è¾¹ç•Œæ¡ä»¶
</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>  <span class="c1">#è¾¹ç•Œæ¡ä»¶
</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">word2</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">word1</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span>    <span class="c1">#ç­‰æ¯”ç¿»è¯‘
</span>                    
        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="æœ€é•¿é€’å¢å­åºåˆ—">æœ€é•¿é€’å¢å­åºåˆ—</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240815161039868.png" alt="image-20240815161039868" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lengthOfLIS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>  <span class="c1">#iè¡¨ç¤ºå½“å‰ç¬¬iä¸ªæ•°å­—ä½œä¸ºæ•´ä¸ªä¸²çš„æœ«å°¾
</span>            <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="c1">#éå†å‰é¢æ¯ä¸€ä¸ªæ•°
</span>                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>   <span class="c1">#å¦‚æœé‡åˆ°å°çš„ï¼Œé‚£å°±ä»é‚£è¾¹å¼€å§‹
</span>                    <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">dfs</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">res</span><span class="o">+</span><span class="mi">1</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1">#æšä¸¾æ¯ä¸€ç§æœ«å°¾         O(N^2)
</span>            <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">lengthOfLIS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> <span class="c1">#dfsæ”¹æˆfæ•°ç»„ï¼Œé€’å½’æ”¹æˆå¾ªç¯
</span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>
        <span class="n">f</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">n</span>     
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>     
</code></pre></div></div>

<h3 id="çŠ¶æ€æœºdp">çŠ¶æ€æœºDP</h3>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240815204004197.png" alt="image-20240815204004197" /></p>

<h4 id="ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºä¸é™åˆ¶äº¤æ˜“æ¬¡æ•°">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºï¼Œä¸é™åˆ¶äº¤æ˜“æ¬¡æ•°</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240816193722387.png" alt="image-20240816193722387" /></p>

<p>æŠ•æœºå–å·§çš„æ–¹æ³•</p>

<p>åšTï¼ŒçŸ­çº¿äº¤æ˜“</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">duanxian</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>    <span class="c1">#èƒ½æŒ£é’±ä¹ˆ
</span>                <span class="n">duanxian</span><span class="o">+=</span> <span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1">#é‚£å°±æŒ£äº†
</span>        <span class="k">return</span> <span class="n">duanxian</span>
</code></pre></div></div>

<p>å›æº¯</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240816202808795.png" alt="image-20240816202808795" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="c1">#å€’ç€æ€è€ƒ
</span>        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">hold</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1">#å½“i&lt;0å¤©ï¼Œç”±äºä¸€å¼€å§‹ä¸æŒæœ‰è‚¡ç¥¨
</span>                <span class="k">return</span> <span class="o">-</span><span class="n">inf</span> <span class="k">if</span> <span class="n">hold</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">hold</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">True</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span><span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="c1">#           ä»€ä¹ˆä¹Ÿä¸åš     å–å‡ºæ‰‹é‡Œçš„è‚¡ç¥¨
</span>            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">False</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span><span class="o">+</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1">#ä¹°å…¥è‚¡ç¥¨ æˆ–è€…è¿˜æ˜¯ä»€ä¹ˆéƒ½ä¸åš
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span>

</code></pre></div></div>

<p>ç¿»è¯‘æˆé€’æ¨</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>

        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
        <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span> <span class="c1">#æˆ‘ä»¬éœ€è¦å¤šä¸€ä¸ªçŠ¶æ€ç”¨äºå­˜å‚¨ï¼Œè¯´æ˜ç¬¬ä¸€å¤©æ˜¯ä¸å¯èƒ½æœ‰è‚¡ç¥¨çš„
</span>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">prices</span><span class="p">):</span>
            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">p</span><span class="p">)</span>  <span class="c1">#åé¢çš„å…¨éƒ¨éƒ½+1
</span>            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="å¦‚æœæœ‰å†·å†»æœŸå‘¢">å¦‚æœæœ‰å†·å†»æœŸå‘¢</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240816211415201.png" alt="image-20240816211415201" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="c1">#å€’ç€æ€è€ƒ
</span>        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">hold</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1">#å½“i&lt;0å¤©ï¼Œç”±äºä¸€å¼€å§‹ä¸æŒæœ‰è‚¡ç¥¨
</span>                <span class="k">return</span> <span class="o">-</span><span class="n">inf</span> <span class="k">if</span> <span class="n">hold</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">hold</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">True</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span><span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="c1">#è¿™è¾¹ç”±äºæœ‰å†·å†»æœŸï¼Œå› æ­¤éœ€è¦å˜æˆi-2ï¼Œæˆ‘åªèƒ½å–å‰å¤©ä¹°çš„
</span>                <span class="c1">#           ä»€ä¹ˆä¹Ÿä¸åš     å–å‡ºæ‰‹é‡Œçš„è‚¡ç¥¨
</span>            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">False</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span><span class="o">+</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1">#ä¹°å…¥è‚¡ç¥¨ æˆ–è€…è¿˜æ˜¯ä»€ä¹ˆéƒ½ä¸åš
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="å¦‚æœæœ‰äº¤æ˜“æ¬¡æ•°é™åˆ¶å‘¢">å¦‚æœæœ‰äº¤æ˜“æ¬¡æ•°é™åˆ¶å‘¢</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240816211902082.png" alt="image-20240816211902082" /></p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240816211949383.png" alt="image-20240816211949383" /></p>

<p>è¿™é‡Œå°±éœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºï¼Œåˆ°iå¤©ç»“æŸæ—¶ï¼Œå®Œæˆäº†æœ€å¤šjç¬”äº¤æ˜“</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
        <span class="c1">#å€’ç€æ€è€ƒ
</span>        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">hold</span><span class="p">):</span> <span class="c1">#jä»£è¡¨ï¼Œåˆ°iå¤©ç»“æŸæ—¶ï¼Œå®Œæˆäº†æœ€å¤šjç¬”äº¤æ˜“
</span>            <span class="k">if</span> <span class="n">j</span> <span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="n">inf</span>       <span class="c1">#å¦‚æœj&lt;0 é‚£å°±è¯æ˜è¿™ä¸ªäº¤æ˜“æ˜¯ä¸åˆæ³•çš„
</span>            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1">#å½“i&lt;0å¤©ï¼Œç”±äºä¸€å¼€å§‹ä¸æŒæœ‰è‚¡ç¥¨
</span>                <span class="k">return</span> <span class="o">-</span><span class="n">inf</span> <span class="k">if</span> <span class="n">hold</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">hold</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="bp">True</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span><span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="c1">#           ä»€ä¹ˆä¹Ÿä¸åš     å–å‡ºæ‰‹é‡Œçš„è‚¡ç¥¨
</span>            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="bp">False</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span><span class="o">+</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>  <span class="c1">#ä¹°å…¥è‚¡ç¥¨ æˆ–è€…è¿˜æ˜¯ä»€ä¹ˆéƒ½ä¸åš
</span>                                             <span class="c1">#è¿™é‡Œj-1æ„å‘³ç€å‡å°‘äº†ä¸€æ¬¡äº¤æ˜“
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<p>é€’æ¨</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
		<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
         <span class="n">f</span> <span class="o">=</span> <span class="p">[[[</span><span class="o">-</span><span class="n">inf</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">2</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>  <span class="c1">#ä¸‰ç»´æ•°ç»„
</span>         <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">k</span><span class="o">+</span><span class="mi">2</span><span class="p">):</span>
             <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
         <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">prices</span><span class="p">):</span>
             <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">k</span><span class="o">+</span><span class="mi">2</span><span class="p">):</span>
                 <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">p</span><span class="p">)</span>
                 <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p</span><span class="p">)</span>
         <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="æ°å¥½å’Œè‡³å°‘">æ°å¥½å’Œè‡³å°‘</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240816213526221.png" alt="image-20240816213526221" /></p>

<h3 id="åŒºé—´dp">åŒºé—´DP</h3>

<h4 id="æœ€é•¿å›æ–‡å­åºåˆ—">æœ€é•¿å›æ–‡å­åºåˆ—</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240816215411899.png" alt="image-20240816215411899" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestPalindromeSubseq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">j</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>    <span class="c1">#è¿™æ˜¯ä¸€ä¸ªç©ºä¸²
</span>            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="n">j</span><span class="p">:</span>         <span class="c1"># é•¿åº¦ä¸º1çš„ä¸²å°±æ˜¯å›æ–‡ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›1å°±å¯ä»¥äº†
</span>                <span class="k">return</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span>       <span class="c1">#å¦‚æœä¸¤è¾¹éƒ½ç›¸ç­‰ï¼Œé‚£ä¹ˆä¹…éƒ½é€‰ï¼Œç„¶åç»“æœ+2
</span>            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">),</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>  <span class="c1">#è¦ä¸ç„¶å°±é€‰å·¦è¾¹æˆ–è€…é€‰å³è¾¹
</span>        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestPalindromeSubseq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">f</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">n</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>    <span class="c1">#å€’åºéå†
</span>            <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>  <span class="c1">#æ­£åºéå†
</span>                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="å¤šè¾¹å½¢ä¸‰è§’å‰–åˆ†çš„æœ€ä½å¾—åˆ†">å¤šè¾¹å½¢ä¸‰è§’å‰–åˆ†çš„æœ€ä½å¾—åˆ†</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818165035073.png" alt="image-20240818165035073" /></p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818165050375.png" alt="image-20240818165050375" /></p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818165106360.png" alt="image-20240818165106360" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minScoreTriangulation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="o">==</span><span class="n">j</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>   <span class="c1">#ä¸å­˜åœ¨ä¸‰è§’å½¢
</span>            <span class="n">res</span> <span class="o">=</span> <span class="n">inf</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">):</span>
                <span class="n">res</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="n">dfs</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">+</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">values</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">values</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="c1">#å·¦è¾¹å½¢çŠ¶ï¼Œæœ¬ä¸‰è§’å½¢å’Œå³è¾¹å½¢çŠ¶
</span>            <span class="k">return</span> <span class="n">res</span>
        <span class="k">return</span> <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

</code></pre></div></div>

<h3 id="æ ‘å½¢dp">æ ‘å½¢DP</h3>

<h4 id="äºŒå‰æ ‘çš„ç›´å¾„">äºŒå‰æ ‘çš„ç›´å¾„</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818173714786.png" alt="image-20240818173714786" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">diameterOfBinaryTree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

    <span class="c1">#å½“å‰é“¾çš„é•¿åº¦ç­‰äºå·¦å­æ ‘çš„æœ€é•¿åŠ å³å­æ ‘çš„æœ€é•¿+2
</span>        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="o">@</span><span class="n">cache</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="n">lenl</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>    <span class="c1">#å·¦å­æ ‘çš„æœ€å¤§é«˜åº¦
</span>            <span class="n">lenr</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>     <span class="c1">#å³å­æ ‘çš„æœ€å¤§é«˜åº¦
</span>            <span class="k">nonlocal</span> <span class="n">res</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">lenl</span><span class="o">+</span><span class="n">lenr</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>         <span class="c1">#ç»“æœåœ¨è¿™é‡Œæ›´æ–°
</span>            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">lenl</span><span class="p">,</span><span class="n">lenr</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>      <span class="c1">#è¿™è¾¹å¯ä»¥ä¿è¯è¿”å›æœ€å¤§é«˜åº¦
</span>        <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
    
   <span class="c1"># O(N)
</span></code></pre></div></div>

<h4 id="äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ">äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818180927770.png" alt="image-20240818180927770" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxPathSum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">inf</span>  <span class="c1">#å–æœ€å¤§é‚£å°±ç”¨-inf
</span>        
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">node</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="n">sumnodeleft</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>   <span class="c1">#å·¦å­æ ‘çš„æœ€å¤§å’Œ
</span>            <span class="n">sumnoderight</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span> <span class="c1">#å³å­æ ‘çš„æœ€å¤§å’Œ
</span>            <span class="k">nonlocal</span> <span class="n">res</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">sumnodeleft</span><span class="o">+</span><span class="n">sumnoderight</span><span class="o">+</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>       <span class="c1">#å·¦å­æ ‘çš„æœ€å¤§å’Œ+å³å­æ ‘çš„æœ€å¤§å’Œ
</span>            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">sumnodeleft</span><span class="p">,</span><span class="n">sumnoderight</span><span class="p">)</span><span class="o">+</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>    <span class="c1">#ä¿è¯è¿”å›å·¦å­æ ‘æˆ–è€…å³å­æ ‘çš„æœ€å¤§å€¼åŠ ä¸Šå½“å‰èŠ‚ç‚¹å€¼
</span>            <span class="c1">#è¿™è¾¹å’Œ0æ¯”å¤§å°å¾ˆå…³é”®ï¼Œå› ä¸ºå¦‚æœç®—å‡ºä¸€ä¸ªéƒ¨åˆ†æ˜¯è´Ÿæ•°ï¼Œé‚£è¿˜ä¸å¦‚ä¸é€‰ï¼Œå› æ­¤è¦å’Œ0æ¯”å¤§å°ï¼Œè¿™é‡Œçš„0ä¸æ˜¯æŒ‡ç»“ç‚¹çš„å€¼ä¸º0è€Œæ˜¯æŒ‡å­æ ‘çš„æ•´ä½“å¤§å°ä¸º0
</span>        <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

</code></pre></div></div>

<h4 id="ä¸€èˆ¬æ ‘ä¸­ç›¸é‚»å­—ç¬¦ä¸åŒçš„æœ€é•¿è·¯å¾„">ä¸€èˆ¬æ ‘ä¸­ï¼Œç›¸é‚»å­—ç¬¦ä¸åŒçš„æœ€é•¿è·¯å¾„</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818184335866.png" alt="image-20240818184335866" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="n">g</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span>  <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span> <span class="c1">#è¿™è¾¹ä¹Ÿå¯ä»¥ç”¨å“ˆå¸Œè¡¨
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>        <span class="c1">#æŠŠæ¯ä¸€ä¸ªä½ç½®çš„å­èŠ‚ç‚¹åšå¥½
</span>            <span class="n">g</span><span class="p">[</span><span class="n">parent</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="k">nonlocal</span> <span class="n">ans</span>
            <span class="n">lenofx</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># åˆå§‹åŒ–å˜é‡lenofxï¼Œè¡¨ç¤ºä»å½“å‰èŠ‚ç‚¹xå‘ä¸‹å»¶ä¼¸çš„æœ€é•¿è·¯å¾„
</span>            <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">g</span><span class="p">[</span><span class="n">x</span><span class="p">]:</span>       <span class="c1">#å¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹
</span>                <span class="n">lenofy</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>    <span class="c1"># é€’å½’è°ƒç”¨dfsè®¡ç®—å­èŠ‚ç‚¹yçš„æœ€é•¿è·¯å¾„ï¼Œå¹¶åŠ 1è¡¨ç¤ºåŒ…æ‹¬å½“å‰èŠ‚ç‚¹y
</span>                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">!=</span><span class="n">s</span><span class="p">[</span><span class="n">x</span><span class="p">]:</span>    <span class="c1"># åªæœ‰å½“å­èŠ‚ç‚¹yçš„å­—ç¬¦å’Œå½“å‰èŠ‚ç‚¹xçš„å­—ç¬¦ä¸åŒæ—¶ï¼Œæ‰è€ƒè™‘æ›´æ–°è·¯å¾„
</span>                    <span class="n">ans</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">lenofx</span><span class="o">+</span><span class="n">lenofy</span><span class="p">)</span>   <span class="c1"># æ›´æ–°å…¨å±€çš„æœ€é•¿è·¯å¾„é•¿åº¦ans
</span>                    <span class="n">lenofx</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">lenofx</span><span class="p">,</span><span class="n">lenofy</span><span class="p">)</span>    <span class="c1"># æ›´æ–°å½“å‰èŠ‚ç‚¹xçš„æœ€é•¿è·¯å¾„é•¿åº¦
</span>            <span class="k">return</span> <span class="n">lenofx</span>     <span class="c1"># è¿”å›ä»å½“å‰èŠ‚ç‚¹xå‘ä¸‹å»¶ä¼¸çš„æœ€é•¿è·¯å¾„
</span>        <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span><span class="o">+</span><span class="mi">1</span>
</code></pre></div></div>

<h4 id="æ‰“å®¶åŠ«èˆ3">æ‰“å®¶åŠ«èˆ3</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818190212782.png" alt="image-20240818190212782" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>

        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># è¿™ä¸ªå˜é‡`res`å…¶å®æ²¡æœ‰ç”¨åˆ°ï¼Œå¯ä»¥ç§»é™¤
</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">node</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="c1"># å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å›(0, 0)ï¼Œè¡¨ç¤ºä¸¤ç§æƒ…å†µéƒ½ä¸º0
</span>            
            <span class="c1"># é€’å½’è®¡ç®—å·¦å­æ ‘çš„ä¸¤ç§æƒ…å†µçš„æ”¶ç›Š
</span>            <span class="n">lrob</span><span class="p">,</span> <span class="n">lnotrob</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
            <span class="c1"># é€’å½’è®¡ç®—å³å­æ ‘çš„ä¸¤ç§æƒ…å†µçš„æ”¶ç›Š
</span>            <span class="n">rrob</span><span class="p">,</span> <span class="n">rnotrob</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            
            <span class="c1"># æŠ¢åŠ«å½“å‰èŠ‚ç‚¹çš„æ”¶ç›Šï¼šå½“å‰èŠ‚ç‚¹çš„å€¼ + å·¦å³å­æ ‘ä¸èƒ½æŠ¢åŠ«å­èŠ‚ç‚¹çš„æœ€å¤§æ”¶ç›Š
</span>            <span class="n">rob</span> <span class="o">=</span> <span class="n">lnotrob</span> <span class="o">+</span> <span class="n">rnotrob</span> <span class="o">+</span> <span class="n">node</span><span class="p">.</span><span class="n">val</span>
            <span class="c1"># ä¸æŠ¢åŠ«å½“å‰èŠ‚ç‚¹çš„æ”¶ç›Šï¼šå·¦å³å­æ ‘çš„ä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼ä¹‹å’Œ
</span>            <span class="n">notrob</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">lrob</span><span class="p">,</span> <span class="n">lnotrob</span><span class="p">)</span> <span class="o">+</span> <span class="nb">max</span><span class="p">(</span><span class="n">rrob</span><span class="p">,</span> <span class="n">rnotrob</span><span class="p">)</span> <span class="c1">#å·¦å³å­æ ‘å¯ä»¥éšä¾¿é€‰ï¼Œå› ä¸ºæˆ‘ä»¬é€‰æ‹©äº†ä»–
</span>            
            <span class="c1"># è¿”å›å½“å‰èŠ‚ç‚¹çš„ä¸¤ç§æƒ…å†µçš„æ”¶ç›Š
</span>            <span class="k">return</span> <span class="n">rob</span><span class="p">,</span> <span class="n">notrob</span>

        <span class="c1"># å¯¹æ ¹èŠ‚ç‚¹è°ƒç”¨dfsï¼Œå¹¶è¿”å›ä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼
</span>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
</code></pre></div></div>

<h4 id="ç›‘æ§äºŒå‰æ ‘">ç›‘æ§äºŒå‰æ ‘</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818193728388.png" alt="image-20240818193728388" /></p>

<p>å¦‚æœæ ¹èŠ‚ç‚¹ä¸è£…ï¼Œé‚£ä¹ˆè‡³å°‘ä»–æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹è¦è£…</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818194103264.png" alt="image-20240818194103264" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minCameraCover</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="c1"># ç©ºèŠ‚ç‚¹çš„ä¸‰ç§çŠ¶æ€ï¼šä¸èƒ½å®‰è£…æ‘„åƒå¤´ï¼Œ0ä¸ªæ‘„åƒå¤´å³å¯æ»¡è¶³è¢«ç›‘æ§åˆ°ï¼Œä¸ç”¨è¢«ç›‘æ§
</span>            
            <span class="n">l_choose</span><span class="p">,</span> <span class="n">l_by_fa</span><span class="p">,</span> <span class="n">l_by_children</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>  <span class="c1"># å¤„ç†å·¦å­èŠ‚ç‚¹
</span>            <span class="n">r_choose</span><span class="p">,</span> <span class="n">r_by_fa</span><span class="p">,</span> <span class="n">r_by_children</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>  <span class="c1"># å¤„ç†å³å­èŠ‚ç‚¹
</span>            
            <span class="c1"># å½“å‰èŠ‚ç‚¹é€‰æ‹©æ”¾ç½®æ‘„åƒå¤´çš„æƒ…å†µ
</span>            <span class="n">choose</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">l_choose</span><span class="p">,</span> <span class="n">l_by_fa</span><span class="p">)</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">r_choose</span><span class="p">,</span> <span class="n">r_by_fa</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            
            <span class="c1"># å½“å‰èŠ‚ç‚¹ä¸æ”¾æ‘„åƒå¤´ï¼Œè€Œç”±çˆ¶èŠ‚ç‚¹æ¥ç›‘æ§çš„æƒ…å†µ
</span>            <span class="n">by_fa</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">l_choose</span><span class="p">,</span> <span class="n">l_by_children</span><span class="p">)</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">r_choose</span><span class="p">,</span> <span class="n">r_by_children</span><span class="p">)</span>
            
            <span class="c1"># å½“å‰èŠ‚ç‚¹ä¸æ”¾æ‘„åƒå¤´ï¼Œç”±å­èŠ‚ç‚¹æ¥ç›‘æ§çš„æƒ…å†µ
</span>            <span class="n">by_children</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">l_choose</span> <span class="o">+</span> <span class="n">r_by_children</span><span class="p">,</span> <span class="n">l_by_children</span> <span class="o">+</span> <span class="n">r_choose</span><span class="p">,</span> <span class="n">l_choose</span> <span class="o">+</span> <span class="n">r_choose</span><span class="p">)</span>
            
            <span class="k">return</span> <span class="n">choose</span><span class="p">,</span> <span class="n">by_fa</span><span class="p">,</span> <span class="n">by_children</span>
        
        <span class="n">choose</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">by_children</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>  <span class="c1"># æ ¹èŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥åªè€ƒè™‘é€‰æ‹©æ‘„åƒå¤´æˆ–ç”±å­èŠ‚ç‚¹ç›‘æ§
</span>        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">choose</span><span class="p">,</span> <span class="n">by_children</span><span class="p">)</span>

</code></pre></div></div>

<h3 id="è¿·å®«dp">è¿·å®«DP</h3>

<p>åœ°ä¸‹åŸæ¸¸æˆ</p>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818123931311.png" alt="image-20240818123931311" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">calculateMinimumHP</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dungeon</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dungeon</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">dungeon</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">BIG</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span>
        <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BIG</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">m</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">minn</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
                <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">minn</span> <span class="o">-</span> <span class="n">dungeon</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>

<p>###</p>

<h2 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h2>

<h4 id="æ¯æ—¥æ¸©åº¦">æ¯æ—¥æ¸©åº¦</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240818214621097.png" alt="image-20240818214621097" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">dailyTemperatures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">temperatures</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="c1">#O(min(n,U))    U = temperatures[MAX] - temperatures[MIN]+1
</span>        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">temperatures</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">n</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span> <span class="c1">#å€’ç€éå†
</span>            <span class="n">t</span> <span class="o">=</span> <span class="n">temperatures</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>       <span class="c1">#å½“å‰çš„æ¸©åº¦
</span>            <span class="k">while</span> <span class="n">stack</span> <span class="ow">and</span> <span class="n">temperatures</span><span class="p">[</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">&lt;=</span><span class="n">t</span><span class="p">:</span> <span class="c1">#å¯¹äºæ ˆä¸­å°äºè‡ªèº«çš„ï¼Œå…¨éƒ¨popæ‰ï¼Œå› ä¸ºä»–ä»¬æ²¡ç”¨
</span>                                                     <span class="c1">#ä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸ºä¹‹åéå†åˆ°çš„ï¼Œæœ€é«˜è‚¯å®šä¸ä¼šæ˜¯é‚£äº›æ¯”è‡ªå·±å°çš„ï¼Œè€Œæ˜¯è‡ªå·±
</span>                <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">stack</span><span class="p">:</span> <span class="c1">#å¦‚æœæ ˆä¸ä¸ºç©ºï¼Œé‚£ä¹ˆæ ˆé¡¶æ•°æ®æ¯”è‡ªå·±å¤§ï¼Œå¯ä»¥ä½œä¸ºç­”æ¡ˆ
</span>                <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">i</span> <span class="c1">#ç´¢å¼•ï¼Œè·ç¦»å½“å‰æœ‰å¤šå°‘å¤©
</span>            <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>    <span class="c1">#æ¯æ¬¡éƒ½ä¼šæŠŠå½“å‰ç´¢å¼•æ”¾è¿›å»
</span>        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<h4 id="æ¥é›¨æ°´-1">æ¥é›¨æ°´</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240819145959426.png" alt="image-20240819145959426" /></p>

<p>å•è°ƒæ ˆåšæ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">trap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># ç”¨äºå­˜å‚¨æœ€åçš„æ¥é›¨æ°´æ€»é‡
</span>        <span class="n">st</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># è¿™æ˜¯ä¸€ä¸ªæ ˆï¼Œç”¨äºå­˜å‚¨æŸ±å­çš„ç´¢å¼•
</span>        
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
            <span class="c1"># æ ˆéç©ºä¸”å½“å‰é«˜åº¦å¤§äºæˆ–ç­‰äºæ ˆé¡¶å…ƒç´ çš„é«˜åº¦æ—¶ï¼Œè¯´æ˜å¯ä»¥å½¢æˆå‡¹æ§½
</span>            <span class="k">while</span> <span class="n">st</span> <span class="ow">and</span> <span class="n">h</span> <span class="o">&gt;=</span> <span class="n">height</span><span class="p">[</span><span class="n">st</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]:</span>
                <span class="n">bottom_h</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="n">st</span><span class="p">.</span><span class="n">pop</span><span class="p">()]</span>  <span class="c1"># å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œè¡¨ç¤ºå‡¹æ§½çš„åº•éƒ¨é«˜åº¦
</span>                
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">st</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">break</span>  <span class="c1"># å¦‚æœæ ˆä¸ºç©ºï¼Œè¯´æ˜æ²¡æœ‰å·¦è¾¹çš„è¾¹ç•Œï¼Œä¸èƒ½å½¢æˆå‡¹æ§½ï¼Œè·³å‡ºå¾ªç¯
</span>                
                <span class="n">left</span> <span class="o">=</span> <span class="n">st</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># æ ˆé¡¶å…ƒç´ å¼¹å‡ºåï¼Œç°åœ¨çš„æ ˆé¡¶å°±æ˜¯å·¦è¾¹ç•Œ
</span>                <span class="n">dh</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">height</span><span class="p">[</span><span class="n">left</span><span class="p">],</span> <span class="n">h</span><span class="p">)</span> <span class="o">-</span> <span class="n">bottom_h</span>  <span class="c1"># è®¡ç®—æ°´çš„é«˜åº¦ï¼Œå–å·¦è¾¹ç•Œå’Œå½“å‰é«˜åº¦çš„è¾ƒå°å€¼å‡å»åº•éƒ¨é«˜åº¦
</span>                
                <span class="c1"># æ¥æ°´é‡ä¸ºæ°´çš„é«˜åº¦ä¹˜ä»¥å®½åº¦ï¼Œå®½åº¦ä¸º `i - left - 1`
</span>                <span class="n">ans</span> <span class="o">+=</span> <span class="n">dh</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">left</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            
            <span class="n">st</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># å°†å½“å‰æŸ±å­çš„ç´¢å¼•å…¥æ ˆ
</span>        
        <span class="k">return</span> <span class="n">ans</span>  <span class="c1"># è¿”å›æœ€ç»ˆæ¥ä½çš„é›¨æ°´æ€»é‡
</span></code></pre></div></div>

<p>æœ€å¤§å‰ç¼€åšæ³•</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">trap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># åˆå§‹åŒ–å‰ç¼€å’Œåç¼€æ•°ç»„
</span>        <span class="n">prefix</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
        <span class="n">postfix</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
        <span class="c1"># è®¡ç®—æ¯ä¸ªä½ç½®çš„å‰ç¼€æœ€å¤§é«˜åº¦
</span>        <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">currentheiget</span><span class="p">:</span>
                <span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
        <span class="c1"># è®¡ç®—æ¯ä¸ªä½ç½®çš„åç¼€æœ€å¤§é«˜åº¦
</span>        <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">currentheiget</span><span class="p">:</span>
                <span class="n">postfix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">currentheiget</span> <span class="o">=</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">postfix</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">currentheiget</span>
        <span class="c1"># è®¡ç®—èƒ½å¤Ÿå­˜å‚¨çš„æ°´é‡
</span>        <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)):</span>
            <span class="n">realh</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">prefix</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">postfix</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="n">realh</span>

        <span class="k">return</span> <span class="n">res</span>

</code></pre></div></div>

<h2 id="å•è°ƒé˜Ÿåˆ—">å•è°ƒé˜Ÿåˆ—</h2>

<h4 id="æ»‘åŠ¨çª—å£æœ€å¤§å€¼">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</h4>

<p><img src="C:\Users\11517\Desktop\åˆ·é¢˜\image-20240819154650874.png" alt="image-20240819154650874" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxSlidingWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># ç”¨æ¥å­˜æ”¾ç»“æœï¼Œå³æ¯ä¸ªæ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼
</span>        <span class="n">q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>  <span class="c1"># åŒç«¯é˜Ÿåˆ—ï¼Œå­˜å‚¨çš„æ˜¯å…ƒç´ çš„ç´¢å¼•
</span>        
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
            <span class="c1"># 1. å…¥çª—å£ï¼šä¿è¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ æŒ‰ç…§ä»å¤§åˆ°å°çš„é¡ºåºæ’åˆ—
</span>            <span class="k">while</span> <span class="n">q</span> <span class="ow">and</span> <span class="n">nums</span><span class="p">[</span><span class="n">q</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>  <span class="c1"># é˜Ÿåˆ—ä¸­å¦‚æœå­˜åœ¨æ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´ ï¼Œå®ƒä»¬æ°¸è¿œä¸å¯èƒ½æˆä¸ºæœ€å¤§å€¼ï¼Œç§»é™¤å®ƒä»¬
</span>            <span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># å°†å½“å‰å…ƒç´ çš„ç´¢å¼•åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­
</span>            
            <span class="c1"># 2. å‡ºçª—å£ï¼šæ£€æŸ¥é˜Ÿé¦–å…ƒç´ æ˜¯å¦è¿˜åœ¨å½“å‰çª—å£ä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œåˆ™ç§»å‡ºé˜Ÿåˆ—
</span>            <span class="k">if</span> <span class="n">i</span> <span class="o">-</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="p">:</span>
                <span class="n">q</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span>  <span class="c1"># é˜Ÿé¦–å…ƒç´ å·²ç»ä¸åœ¨çª—å£èŒƒå›´å†…äº†ï¼Œç§»å‡ºé˜Ÿåˆ—
</span>            
            <span class="c1"># 3. è®°å½•ç­”æ¡ˆï¼šå½“éå†åˆ°ç¬¬ `k` ä¸ªå…ƒç´ æ—¶å¼€å§‹è®°å½•çª—å£æœ€å¤§å€¼
</span>            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">ans</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>  <span class="c1"># é˜Ÿé¦–å…ƒç´ å°±æ˜¯å½“å‰çª—å£çš„æœ€å¤§å€¼
</span>        
        <span class="k">return</span> <span class="n">ans</span>  <span class="c1"># è¿”å›æ‰€æœ‰æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼
</span>
</code></pre></div></div>

:ET